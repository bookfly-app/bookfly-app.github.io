async function l(o,a=10){const e=new URLSearchParams({q:o,limit:a});return(await(await fetch(`https://openlibrary.org/search/authors.json?${e}`)).json()).docs.map(n=>c(n.key))}async function c(o){const a=globalThis.localStorage?globalThis.localStorage.getItem(`author-${o}`):null;if(a)return JSON.parse(a);const t=await(await fetch(`https://openlibrary.org/authors/${o}.json`)).json(),h=(await(await fetch(`https://openlibrary.org/query.json?type=/type/edition&authors=/authors/${o}&isbn_13=`)).json()).filter(r=>r.isbn_13).map(r=>r.isbn_13[0]),s={id:o,name:t.name,birthday:t.birth_date,picture:t.photos&&t.photos.length?`https://covers.openlibrary.org/a/id/${t.photos[0]}-L.jpg`:"",books:h};return globalThis.localStorage&&(globalThis.localStorage.setItem(`author-${o}`,JSON.stringify(s)),console.log(`Updated author "${s.name}" in localStorage`)),s}export{c as g,l as s};
