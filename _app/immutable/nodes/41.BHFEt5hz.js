import"../chunks/Bzak7iHL.js";import{b as Ce,d as r,e as a,r as t,t as I,a as u,p as Oe,a6 as _,s as ls,g as We,a5 as ns,f as Ye,ac as l,a9 as k,j as s,ab as F,a7 as V}from"../chunks/DhKu0NfF.js";import{s as J}from"../chunks/DGkc4AeD.js";import{r as oe,p as Be,b as vs,i as D}from"../chunks/DZzuPxtn.js";import{e as cs,i as us}from"../chunks/B8n4LtgD.js";import{a as le,s as L,S as ds,b as Te,r as H}from"../chunks/COSmXfxt.js";import{d as _s}from"../chunks/DGKU-49f.js";import{b as Y,c as ps}from"../chunks/CmLPpUp4.js";import{g as Ue}from"../chunks/ClWJvnEQ.js";import{A as ws}from"../chunks/92H2WG_n.js";import{P as hs,C as re,W as bs}from"../chunks/CfePtEBp.js";import{D as fs}from"../chunks/CN89uXzx.js";import{T as ms,E as ze}from"../chunks/DfWq5u-V.js";import{u as T,E as gs,F as ks,G as zs,p as ys,j as Ze}from"../chunks/D8MsmRYf.js";import{H as Cs}from"../chunks/oMbEjRls.js";var Ps=Ce('<svg><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2.99902 3L20.999 21M9.8433 9.91364C9.32066 10.4536 8.99902 11.1892 8.99902 12C8.99902 13.6569 10.3422 15 11.999 15C12.8215 15 13.5667 14.669 14.1086 14.133M6.49902 6.64715C4.59972 7.90034 3.15305 9.78394 2.45703 12C3.73128 16.0571 7.52159 19 11.9992 19C13.9881 19 15.8414 18.4194 17.3988 17.4184M10.999 5.04939C11.328 5.01673 11.6617 5 11.9992 5C16.4769 5 20.2672 7.94291 21.5414 12C21.2607 12.894 20.8577 13.7338 20.3522 14.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>');function ye(v,e){let w=oe(e,["$$slots","$$events","$$legacy","stroke"]);var n=Ps();le(n,()=>({...w,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}));var c=r(a(n),2),z=a(c);t(c),t(n),I(()=>L(z,"stroke",e.stroke)),u(v,n)}var xs=Ce('<svg><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M10 19H6.2C5.0799 19 4.51984 19 4.09202 18.782C3.71569 18.5903 3.40973 18.2843 3.21799 17.908C3 17.4802 3 16.9201 3 15.8V8.2C3 7.0799 3 6.51984 3.21799 6.09202C3.40973 5.71569 3.71569 5.40973 4.09202 5.21799C4.51984 5 5.0799 5 6.2 5H17.8C18.9201 5 19.4802 5 19.908 5.21799C20.2843 5.40973 20.5903 5.71569 20.782 6.09202C21 6.51984 21 7.0799 21 8.2V10M20.6067 8.26229L15.5499 11.6335C14.2669 12.4888 13.6254 12.9165 12.932 13.0827C12.3192 13.2295 11.6804 13.2295 11.0677 13.0827C10.3743 12.9165 9.73279 12.4888 8.44975 11.6335L3.14746 8.09863M14 21L16.025 20.595C16.2015 20.5597 16.2898 20.542 16.3721 20.5097C16.4452 20.4811 16.5147 20.4439 16.579 20.399C16.6516 20.3484 16.7152 20.2848 16.8426 20.1574L21 16C21.5523 15.4477 21.5523 14.5523 21 14C20.4477 13.4477 19.5523 13.4477 19 14L14.8426 18.1574C14.7152 18.2848 14.6516 18.3484 14.601 18.421C14.5561 18.4853 14.5189 18.5548 14.4903 18.6279C14.458 18.7102 14.4403 18.7985 14.405 18.975L14 21Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>');function Vs(v,e){let w=oe(e,["$$slots","$$events","$$legacy","stroke"]);var n=xs();le(n,()=>({...w,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}));var c=r(a(n),2),z=a(c);t(c),t(n),I(()=>L(z,"stroke",e.stroke)),u(v,n)}var $s=Ce('<svg><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M21 8.5V6C21 4.89543 20.1046 4 19 4H5C3.89543 4 3 4.89543 3 6V11C3 12.1046 3.89543 13 5 13H10.875M19 14V12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12V14M14 20H20C20.5523 20 21 19.5523 21 19V15C21 14.4477 20.5523 14 20 14H14C13.4477 14 13 14.4477 13 15V19C13 19.5523 13.4477 20 14 20Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="7.5" cy="8.5" r="1.5"></circle><circle cx="12" cy="8.5" r="1.5"></circle></g></svg>');function As(v,e){let w=oe(e,["$$slots","$$events","$$legacy","stroke"]);var n=$s();le(n,()=>({...w,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}));var c=r(a(n),2),z=a(c),y=r(z),R=r(y);t(c),t(n),I(()=>{L(z,"stroke",e.stroke),L(y,"fill",e.stroke),L(R,"fill",e.stroke)}),u(v,n)}var Es=_('<div><div class="svelte-u7qhgb"><!></div></div>');function ie(v,e){Oe(e,!0);let w=Be(e,"element",15),n=Be(e,"visible",15),c=oe(e,["$$slots","$$events","$$legacy","children","element","visible"]);function z($){$.target===w()&&n(!1)}var y=Es();le(y,$=>({...c,class:"popup",onclick:z,[ds]:$}),[()=>({background:n()?"rgba(0, 0, 0, 60%)":"rgba(0, 0, 0, 0%)","pointer-events":n()?void 0:"none"})],void 0,"svelte-u7qhgb");var R=a(y);let N;var B=a(R);ls(B,()=>e.children),t(R),t(y),vs(y,$=>w($),()=>w()),I($=>N=Te(R,"",N,$),[()=>({scale:n()?"100%":"0%"})]),u(v,y),We()}async function Is(v,e){await zs(s(e)),Ue("/")}async function Rs(v,e,w,n,c){s(e)&&(l(w,!1),await ks(s(n),s(c)))}async function qs(v,e,w,n){l(e,!1),await gs(s(w),s(n))}async function Ms(){await Ze({requestedAuthorVerification:!0})}async function Ss(){await Ze({requestedAuthorVerification:!1})}var Gs=(v,e)=>l(e,!0),js=(v,e)=>l(e,!1),Ds=(v,e)=>l(e,!1),Hs=_('<div class="popup svelte-wizu48"><span class="title svelte-wizu48">Change Email</span> <p class="svelte-wizu48">Your current email is <span class="svelte-wizu48"> </span>.</p> <div class="section svelte-wizu48"><span class="svelte-wizu48">New Email</span> <input placeholder="new@example.com" type="text" enterkeyhint="done" class="svelte-wizu48"/></div> <div class="section svelte-wizu48"><span class="svelte-wizu48">Password</span> <input placeholder="password" type="password" enterkeyhint="done" class="svelte-wizu48"/></div> <div class="buttons svelte-wizu48"><button class="cancel svelte-wizu48">Cancel</button> <button class="submit svelte-wizu48">Change</button></div> <button class="close svelte-wizu48"><!></button></div>'),Ls=(v,e)=>l(e,!0),Ns=(v,e)=>l(e,!1),Ys=_('<button class="show-password svelte-wizu48"><!></button>'),Bs=(v,e)=>l(e,!0),Os=_('<button class="show-password svelte-wizu48"><!></button>'),Ws=(v,e)=>l(e,!1),Ts=_('<button class="show-password svelte-wizu48"><!></button>'),Us=(v,e)=>l(e,!0),Zs=_('<button class="show-password svelte-wizu48"><!></button>'),Fs=_('<span class="error svelte-wizu48"> </span>'),Js=_('<div class="errors svelte-wizu48"></div>'),Ks=(v,e)=>l(e,!1),Qs=_('<button class="show-password svelte-wizu48"><!></button>'),Xs=(v,e)=>l(e,!0),et=_('<button class="show-password svelte-wizu48"><!></button>'),st=_('<div class="errors svelte-wizu48"><span class="error svelte-wizu48"> </span></div>'),tt=(v,e)=>l(e,!1),at=(v,e)=>l(e,!1),rt=_('<div class="popup svelte-wizu48"><span class="title svelte-wizu48">Change Password</span> <div class="section svelte-wizu48"><span class="svelte-wizu48">Old Password</span> <input placeholder="Old Password" enterkeyhint="done" class="svelte-wizu48"/> <!></div> <div class="section svelte-wizu48"><span class="svelte-wizu48">New Password</span> <input placeholder="New Password" enterkeyhint="done" class="svelte-wizu48"/> <!></div> <!> <div class="section svelte-wizu48"><span class="svelte-wizu48">Retype New Password</span> <input placeholder="Retype New Password" enterkeyhint="done" class="svelte-wizu48"/> <!></div> <!> <div class="buttons svelte-wizu48"><button class="cancel svelte-wizu48">Cancel</button> <button class="submit svelte-wizu48">Change</button></div> <button class="close svelte-wizu48"><!></button></div>'),it=(v,e)=>l(e,!0),ot=_(`<span class="title svelte-wizu48">You are a verified author.</span> <p class="svelte-wizu48">Being a verified author gives you access to special author features in wallflower.land,
					and will display an author icon on your profile.</p>`,1),lt=_('<button class="unrequest become-author svelte-wizu48">Unrequest Author Verification</button>'),nt=_('<button class="request become-author svelte-wizu48">Request Author Verification</button>'),vt=_(`<span class="title svelte-wizu48">Request Author Verification</span> <p class="svelte-wizu48">Being a verified author gives you access to special author features in wallflower.land,
					and will display an author icon on your profile.</p> <p class="svelte-wizu48">Only published authors can receive 
					author verification. Independent publishing is included.</p> <!>`,1),ct=(v,e)=>l(e,!1),ut=_('<div class="popup svelte-wizu48"><!> <button class="close svelte-wizu48"><!></button></div>'),dt=(v,e)=>l(e,!0),_t=_('<div class="errors svelte-wizu48"><span class="error svelte-wizu48"> </span></div>'),pt=(v,e)=>l(e,!1),wt=(v,e)=>l(e,!1),ht=_('<div class="popup svelte-wizu48"><span class="title svelte-wizu48">Delete Account</span> <p class="svelte-wizu48">Enter your username and password to confirm account deletion.</p> <div class="section svelte-wizu48"><span class="svelte-wizu48">Username</span> <input placeholder="username" type="text" enterkeyhint="done" class="svelte-wizu48"/></div> <!> <div class="section svelte-wizu48"><span class="svelte-wizu48">Password</span> <input placeholder="password" type="password" enterkeyhint="done" class="svelte-wizu48"/></div> <p class="confirm-delete svelte-wizu48"><input type="checkbox" class="svelte-wizu48"/> I confirm that I want to delete my wallflower.land account permanently.</p> <div class="buttons svelte-wizu48"><button class="cancel svelte-wizu48">Cancel</button> <button class="delete svelte-wizu48">Delete</button></div> <button class="close svelte-wizu48"><!></button></div>'),bt=_('<!> <button class="first listing svelte-wizu48"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Change email</span></div> <p class="svelte-wizu48">Your email can be changed any number of times. Your current email is <span class="svelte-wizu48"> </span>.</p></button> <!> <button class="listing svelte-wizu48"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Change Password</span></div> <p class="svelte-wizu48">You can change your password any number of times. You will be asked to enter your current password first.</p></button> <!> <button class="listing svelte-wizu48"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Request author verification</span></div> <p class="svelte-wizu48">Only published authors can recieve author verifications. Independent publishing is allowed.</p></button> <!> <a class="listing svelte-wizu48" href="/settings/account/become-a-moderator"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Become a moderator</span></div> <p class="svelte-wizu48">Wallflower is powered by volunteering moderators who keep Wallflower content safe, relevant, and accessible.</p></a> <a class="listing svelte-wizu48" href="/settings/account/become-a-developer"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Become a developer</span></div> <p class="svelte-wizu48">Wallflower is a non-profit organization powered by volunteers. Paying positions are currently not available.</p></a> <button class="listing svelte-wizu48"><div class="svelte-wizu48"><!> <span class="svelte-wizu48">Delete your account</span></div> <p class="svelte-wizu48"><b>This cannot be undone.</b> You will be shown a confirmation popup first.</p></button> <!>',1);function Mt(v,e){Oe(e,!0),ns(()=>{T()||Ue("/login")});let w=k(""),n=k(""),c=k(""),z=k(""),y=k(""),R=k(""),N=k(!1),B=k(!1),$=k(!1),ne=F(()=>s(c)?[...ys(s(c)),...s(c)===s(n)?["New password cannot be the same as old password."]:[]]:[]),ve=F(()=>s(c)&&s(z)&&s(c)!==s(z)?"Passwords must match":null),Pe=F(()=>s(c)&&s(n)&&s(z)&&!s(ve)&&s(ne).length===0&&s(c)!==s(n)),O=k(!1),K=k(!1),W=k(!1),U=k(!1),ce=F(()=>{var Q;return!s(y)||s(y)===((Q=T())==null?void 0:Q.username)?null:"Incorrect username"}),ue=k(""),de=k(!1),Fe=F(()=>!s(ce)&&s(y)&&s(de));hs(v,{class:"settings",children:(Q,ft)=>{var xe=bt(),Ve=Ye(xe);Cs(Ve,{title:"Account"});var X=r(Ve,2);X.__click=[Gs,O];var _e=a(X),Je=a(_e);Vs(Je,{style:"width: 1.25rem; height: 1.25rem;",stroke:"var(--text)"}),V(2),t(_e);var $e=r(_e,2),Ae=r(a($e)),Ke=a(Ae,!0);t(Ae),V(),t($e),t(X);var Ee=r(X,2);ie(Ee,{get visible(){return s(O)},set visible(d){l(O,d,!0)},children:(d,he)=>{var g=Hs(),C=r(a(g),2),A=r(a(C)),j=a(A,!0);t(A),V(),t(C);var E=r(C,2),q=r(a(E),2);H(q),t(E);var h=r(E,2),p=r(a(h),2);H(p),t(h);var M=r(h,2),S=a(M);S.__click=[js,O];var G=r(S,2);G.__click=[qs,O,w,R],t(M);var b=r(M,2);b.__click=[Ds,O];var f=a(b);re(f,{stroke:"var(--red)",style:"width: 1rem; height: 1rem;"}),t(b),t(g),I(P=>{J(j,P),G.disabled=!s(w)||!s(R)},[()=>{var P;return(P=T())==null?void 0:P.email}]),Y(q,()=>s(w),P=>l(w,P)),Y(p,()=>s(R),P=>l(R,P)),u(d,g)},$$slots:{default:!0}});var ee=r(Ee,2);ee.__click=[Ls,W];var Ie=a(ee),Qe=a(Ie);As(Qe,{style:"width: 1.25rem; height: 1.25rem;",stroke:"var(--text)"}),V(2),t(Ie),V(2),t(ee);var Re=r(ee,2);ie(Re,{get visible(){return s(W)},set visible(d){l(W,d,!0)},children:(d,he)=>{var g=rt(),C=r(a(g),2),A=r(a(C),2);H(A);var j=r(A,2);{var E=o=>{var i=Ys();i.__click=[Ns,N];var m=a(i);ye(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)},q=o=>{var i=Os();i.__click=[Bs,N];var m=a(i);ze(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)};D(j,o=>{s(N)?o(E):o(q,!1)})}t(C);var h=r(C,2),p=r(a(h),2);H(p);var M=r(p,2);{var S=o=>{var i=Ts();i.__click=[Ws,B];var m=a(i);ye(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)},G=o=>{var i=Zs();i.__click=[Us,B];var m=a(i);ze(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)};D(M,o=>{s(B)?o(S):o(G,!1)})}t(h);var b=r(h,2);{var f=o=>{var i=Js();cs(i,21,()=>s(ne),us,(m,ge)=>{var ke=Fs(),os=a(ke,!0);t(ke),I(()=>J(os,s(ge))),u(m,ke)}),t(i),u(o,i)};D(b,o=>{s(ne).length>0&&o(f)})}var P=r(b,2),x=r(a(P),2);H(x);var Z=r(x,2);{var ae=o=>{var i=Qs();i.__click=[Ks,$];var m=a(i);ye(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)},be=o=>{var i=et();i.__click=[Xs,$];var m=a(i);ze(m,{stroke:"var(--overlay-1)",style:"width: 1rem; height: 1rem;"}),t(i),u(o,i)};D(Z,o=>{s($)?o(ae):o(be,!1)})}t(P);var He=r(P,2);{var rs=o=>{var i=st(),m=a(i),ge=a(m,!0);t(m),t(i),I(()=>J(ge,s(ve))),u(o,i)};D(He,o=>{s(ve)&&o(rs)})}var fe=r(He,2),Le=a(fe);Le.__click=[tt,W];var Ne=r(Le,2);Ne.__click=[Rs,Pe,W,n,c],t(fe);var me=r(fe,2);me.__click=[at,W];var is=a(me);re(is,{stroke:"var(--red)",style:"width: 1rem; height: 1rem;"}),t(me),t(g),I(()=>{L(A,"type",s(N)?"text":"password"),L(p,"type",s(B)?"text":"password"),L(x,"type",s($)?"text":"password"),Ne.disabled=!s(Pe)}),Y(A,()=>s(n),o=>l(n,o)),Y(p,()=>s(c),o=>l(c,o)),Y(x,()=>s(z),o=>l(z,o)),u(d,g)},$$slots:{default:!0}});var se=r(Re,2);se.__click=[it,K];var qe=a(se),Xe=a(qe);ws(Xe,{style:"width: 1.25rem; height: 1.25rem;",stroke:"var(--text)"}),V(2),t(qe),V(2),t(se);var Me=r(se,2);ie(Me,{get visible(){return s(K)},set visible(d){l(K,d,!0)},children:(d,he)=>{var g=ut(),C=a(g);{var A=h=>{var p=ot();V(2),u(h,p)},j=h=>{var p=vt(),M=r(Ye(p),6);{var S=b=>{var f=lt();f.__click=[Ss],u(b,f)},G=b=>{var f=nt();f.__click=[Ms],u(b,f)};D(M,b=>{var f;(f=T())!=null&&f.requestedAuthorVerification?b(S):b(G,!1)})}u(h,p)};D(C,h=>{var p;(p=T())!=null&&p.tags.includes("author")?h(A):h(j,!1)})}var E=r(C,2);E.__click=[ct,K];var q=a(E);re(q,{stroke:"var(--red)",style:"width: 1rem; height: 1rem;"}),t(E),t(g),u(d,g)},$$slots:{default:!0}});var pe=r(Me,2),Se=a(pe),es=a(Se);bs(es,{style:"width: 1rem; height: 1rem;",stroke:"var(--text)"}),V(2),t(Se),V(2),t(pe);var we=r(pe,2),Ge=a(we),ss=a(Ge);fs(ss,{style:"width: 1.25rem; height: 1.25rem;",stroke:"var(--text)"}),V(2),t(Ge),V(2),t(we);var te=r(we,2);te.__click=[dt,U];var je=a(te),De=a(je);ms(De,{style:"width: 1.25rem; height: 1.25rem;",stroke:"var(--red)"});var ts=r(De,2);Te(ts,"",{},{color:"var(--red)"}),t(je),V(2),t(te);var as=r(te,2);ie(as,{get visible(){return s(U)},set visible(d){l(U,d,!0)},children:(d,he)=>{var g=ht(),C=r(a(g),4),A=r(a(C),2);H(A),t(C);var j=r(C,2);{var E=x=>{var Z=_t(),ae=a(Z),be=a(ae,!0);t(ae),t(Z),I(()=>J(be,s(ce))),u(x,Z)};D(j,x=>{s(ce)&&x(E)})}var q=r(j,2),h=r(a(q),2);H(h),t(q);var p=r(q,2),M=a(p);H(M),V(),t(p);var S=r(p,2),G=a(S);G.__click=[pt,U];var b=r(G,2);b.__click=[Is,ue],t(S);var f=r(S,2);f.__click=[wt,U];var P=a(f);re(P,{stroke:"var(--red)",style:"width: 1rem; height: 1rem;"}),t(f),t(g),I(()=>b.disabled=!s(Fe)),Y(A,()=>s(y),x=>l(y,x)),Y(h,()=>s(ue),x=>l(ue,x)),ps(M,()=>s(de),x=>l(de,x)),u(d,g)},$$slots:{default:!0}}),I(d=>J(Ke,d),[()=>{var d;return(d=T())==null?void 0:d.email}]),u(Q,xe)},$$slots:{default:!0}}),We()}_s(["click"]);export{Mt as component};
