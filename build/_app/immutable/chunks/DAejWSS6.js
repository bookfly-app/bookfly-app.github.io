import{k as z,b as B,h as _,l as G,m as L,o as v,q as P,U as N,v as k,w,x as A,y as C,z as D,A as E,c as h,B as d,C as Z,i as j,D as F}from"./BQwp8B-n.js";const m=0,i=1,y=2;function K(T,q,f,p,H){_&&G();var n=T,x=z(),U=F,a=N,r,t,u,o=(x?k:w)(void 0),b=(x?k:w)(void 0),l=!1;function c(e,s){l=!0,s&&(A(I),C(I),D(U));try{e===m&&f&&(r?E(r):r=h(()=>f(n))),e===i&&p&&(t?E(t):t=h(()=>p(n,o))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==y&&u&&d(u,()=>u=null)}finally{s&&(D(null),C(null),A(null),Z())}}var I=B(()=>{if(a!==(a=q())){if(L(a)){var e=a;l=!1,e.then(s=>{e===a&&(v(o,s),c(i,!0))},s=>{if(e===a)throw v(b,s),c(y,!0),b.v}),_?f&&(r=h(()=>f(n))):P(()=>{l||c(m,!0)})}else v(o,a),c(i,!1);return()=>a=N}});_&&(n=j)}export{K as a};
