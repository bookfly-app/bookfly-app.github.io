import{i as j,b as G,h as _,a as L,c as P,d as v,q as Z,U as N,s as k,m as E,e as T,f as q,g as w,r as A,j as h,p as d,k as g,l as z,n as B}from"./Cd4famqs.js";const m=0,i=1,p=2;function J(C,D,f,y,H){_&&L();var n=C,b=j(),U=B,a=N,r,t,u,l=(b?k:E)(void 0),x=(b?k:E)(void 0),o=!1;function c(e,s){o=!0,s&&(T(I),q(I),w(U));try{e===m&&f&&(r?A(r):r=h(()=>f(n))),e===i&&y&&(t?A(t):t=h(()=>y(n,l))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==p&&u&&d(u,()=>u=null)}finally{s&&(w(null),q(null),T(null),g())}}var I=G(()=>{if(a!==(a=D())){if(P(a)){var e=a;o=!1,e.then(s=>{e===a&&(v(l,s),c(i,!0))},s=>{if(e===a)throw v(x,s),c(p,!0),x.v}),_?f&&(r=h(()=>f(n))):Z(()=>{o||c(m,!0)})}else v(l,a),c(i,!1);return()=>a=N}});_&&(n=z)}export{J as a};
