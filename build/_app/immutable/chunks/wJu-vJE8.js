import{h as _,a as j,i as G,b as L,c as P,d as v,e as h,q as Z,U as N,f as g,s as k,m as E,g as T,j as q,k as w,r as A,p as d,l as z,n as B}from"./5f8FJv0s.js";const m=0,i=1,p=2;function J(C,D,f,y,H){_&&j();var n=C,b=G(),U=B,a=N,r,t,u,l=(b?k:E)(void 0),x=(b?k:E)(void 0),o=!1;function c(e,s){o=!0,s&&(T(I),q(I),w(U));try{e===m&&f&&(r?A(r):r=h(()=>f(n))),e===i&&y&&(t?A(t):t=h(()=>y(n,l))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==p&&u&&d(u,()=>u=null)}finally{s&&(w(null),q(null),T(null),z())}}var I=L(()=>{if(a!==(a=D())){if(P(a)){var e=a;o=!1,e.then(s=>{e===a&&(v(l,s),c(i,!0))},s=>{if(e===a)throw v(x,s),c(p,!0),x.v}),_?f&&(r=h(()=>f(n))):Z(()=>{o||c(m,!0)})}else v(l,a),c(i,!1);return()=>a=N}});_&&(n=g)}export{J as a};
