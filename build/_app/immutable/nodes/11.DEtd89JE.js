import{n as Vt,o as Et,u as N,a as ht,q as Ht,i as yt}from"../chunks/CCkeDGYs.js";import"../chunks/Bg9kRutz.js";import{p as Jt,a as Kt,i as r,a5 as bt,f as A,s as t,t as I,ab as wt,c as e,r as s,k as $}from"../chunks/i-Dxzh4-.js";import{i as F,b as Qt,s as n}from"../chunks/C2UmEeKx.js";import{e as xt,i as Wt}from"../chunks/Da2w85Gb.js";import{a as m,t as j,c as Q,e as Xt}from"../chunks/CjOfaZex.js";import{d as Yt}from"../chunks/_7rhGYst.js";import{t as g,s as x,a as Zt}from"../chunks/C3MWGuYO.js";import{p as kt}from"../chunks/CHAJi5Dc.js";import{B as ta}from"../chunks/CpO97peS.js";import{B as aa}from"../chunks/D9XUR7kO.js";import{P as sa}from"../chunks/BjLDt-mT.js";import{S as ea,A as ra}from"../chunks/B8K69v1z.js";const oa=async({params:O})=>({book:await Vt(O.isbn)}),Ra=Object.freeze(Object.defineProperty({__proto__:null,load:oa},Symbol.toStringTag,{value:"Module"}));async function na(O,y){var p;const a=N().readingList;yt({readingList:[...a,y.isbn]}),(p=N())==null||p.readingList.push(y.isbn)}async function ia(O,y){const a=N().readingList.filter(p=>p!==y.isbn);yt({readingList:a}),N().readingList=a}var la=j('<h2 class="svelte-i6wom1"> </h2>'),va=j('<button class="rating svelte-i6wom1"><!> <span class="count svelte-i6wom1"> </span></button>'),ca=j('<a href="/author" class="svelte-i6wom1"> </a><!>',1),pa=j('<div class="book-info svelte-i6wom1"><div class="title svelte-i6wom1"><h1 class="svelte-i6wom1"> </h1> <!></div> <!> <!> <p class="description svelte-i6wom1"> </p></div> <div class="product-info svelte-i6wom1"><h2 class="svelte-i6wom1">Product Information</h2> <span class="svelte-i6wom1"><span class="svelte-i6wom1">Title:</span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1"> </span> <span class="svelte-i6wom1"></span></span> <span class="svelte-i6wom1"><span class="svelte-i6wom1">ISBN-13:</span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1">Page Count:</span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1">Publish Date:</span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1"> </span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1">Characters:</span> </span> <span class="svelte-i6wom1"><span class="svelte-i6wom1">Tags:</span> </span></div>',1),ua=j('<button id="add-to-reading-list" class="remove-from-reading-list svelte-i6wom1">Remove from Reading List</button>'),ma=j('<button id="add-to-reading-list" class="svelte-i6wom1">Add to Reading List</button>'),_a=j('<!> <nav class="svelte-i6wom1"><div class="book-name svelte-i6wom1"><h1 class="svelte-i6wom1"> </h1> <h2 class="svelte-i6wom1"> </h2></div> <div class="views svelte-i6wom1"><button class="svelte-i6wom1">Info</button> <button class="svelte-i6wom1">Discussion</button></div></nav> <section class="svelte-i6wom1"><!> <!></section>',1);function Aa(O,y){Jt(y,!0);let a=y.data.book,p=wt("info");function W(v){return function(){bt(p,kt(v)),X.scrollTop=0}}let Lt=Et(a.isbn),ut=wt(null),Bt=$(()=>{var v;return((v=N())==null?void 0:v.readingList.includes(a.isbn))??!1});function Dt(v,mt=3){v=v.replaceAll("--","â€”"),v=v.replaceAll(/\.(\S)/g,(l,f)=>`. ${f}`);let L=v.split(/([.!?])\s*/);const S=[];for(let l=0;l<L.length;l+=2){const f=l<L.length-1?L[l+1]:"";S.push(L[l]+f)}let B=S.map((l,f)=>(f+1)%mt===0&&f!==S.length-1?l+`

`:l).join("");return B=B.replaceAll(/\.(\S)/g,(l,f)=>`. ${f}`),B}let X;sa(O,{type:"search",get sidebar(){return r(ut)},set sidebar(v){bt(ut,kt(v))},children:(v,mt)=>{var L=_a(),S=A(L);ta(S,{style:"position: fixed; top: 1rem; left: 1rem;"});var q=t(S,2),B=e(q),l=e(B),f=e(l,!0);s(l);var Y=t(l,2),Pt=e(Y,!0);s(Y),s(B);var _t=t(B,2),U=e(_t),Rt=$(()=>W("info"));U.__click=function(...o){var i;(i=r(Rt))==null||i.apply(this,o)};var Z=t(U,2),At=$(()=>W("discussion"));Z.__click=function(...o){var i;(i=r(At))==null||i.apply(this,o)},s(_t),s(q);var tt=t(q,2),dt=e(tt);{var $t=o=>{var i=pa(),h=A(i),b=e(h),_=e(b),c=e(_,!0);s(_);var u=t(_,2);{var D=d=>{var w=la(),k=e(w,!0);s(w),I(()=>n(k,a.authors[0])),m(d,w)};F(u,d=>{a.authors.length>0&&d(D)})}s(b);var V=t(b,2);aa(V,{book:a,style:"width: 10rem"});var z=t(V,2);ht(z,()=>Ht(a.isbn),null,(d,w)=>{var k=$(()=>{var{rating:M,count:K}=r(w);return{rating:M,count:K}}),P=$(()=>r(k).rating),R=$(()=>r(k).count),T=va(),pt=$(()=>W("discussion"));T.__click=function(...M){var K;(K=r(pt))==null||K.apply(this,M)};var H=e(T);ea(H,{get rating(){return r(P)}});var C=t(H),J=t(C),Ut=e(J);s(J),s(T),I(M=>{n(C,` ${M??""} `),n(Ut,`(${r(R)??""})`)},[()=>r(P).toFixed(1)]),m(d,T)});var G=t(z,2),at=e(G,!0);s(G),s(h);var E=t(h,2),st=t(e(E),2),Ct=t(e(st),1,!0);s(st);var et=t(st,2),rt=e(et),It=e(rt);s(rt);var ft=t(rt,2);xt(ft,22,()=>a.authors,d=>d,(d,w,k)=>{var P=ca(),R=A(P),T=e(R,!0);s(R);var pt=t(R);{var H=C=>{var J=Xt(",");m(C,J)};F(pt,C=>{r(k)!==a.authors.length-1&&C(H)})}I(()=>n(T,w)),m(d,P)}),s(ft),s(et);var ot=t(et,2),Ft=t(e(ot),1,!0);s(ot);var nt=t(ot,2),Nt=t(e(nt),1,!0);s(nt);var it=t(nt,2),Ot=t(e(it),1,!0);s(it);var lt=t(it,2),vt=e(lt),qt=e(vt);s(vt);var zt=t(vt,1,!0);s(lt);var ct=t(lt,2),Gt=t(e(ct),1,!0);s(ct);var gt=t(ct,2),Mt=t(e(gt),1,!0);s(gt),s(E),I((d,w,k,P,R)=>{n(c,a.title),x(G,"color",d),n(at,w),n(Ct,a.title),n(It,`Author${(a.authors.length===1?"":"s")??""}:`),n(Ft,a.isbn),n(Nt,a.pageCount),n(Ot,a.publishDate),n(qt,`Publisher${(a.publishers.length===1?"":"s")??""}:`),n(zt,k),n(Gt,P),n(Mt,R)},[()=>g().textDull,()=>Dt(a.description),()=>a.publishers.join(", "),()=>a.characters.join(", "),()=>a.genres.join(", ")]),m(o,i)},jt=o=>{var i=Q(),h=A(i);{var b=_=>{var c=Q(),u=A(c);ht(u,()=>Lt,null,(D,V)=>{var z=Q(),G=A(z);xt(G,17,()=>r(V),Wt,(at,E)=>{ra(at,{get post(){return r(E)}})}),m(D,z)}),m(_,c)};F(h,_=>{r(p)==="discussion"&&_(b)},!0)}m(o,i)};F(dt,o=>{r(p)==="info"?o($t):o(jt,!1)})}var St=t(dt,2);{var Tt=o=>{var i=Q(),h=A(i);{var b=c=>{var u=ua();u.__click=[ia,a],m(c,u)},_=c=>{var u=ma();u.__click=[na,a],I(D=>x(u,"background",D),[Zt]),m(c,u)};F(h,c=>{r(Bt)?c(b):c(_,!1)})}m(o,i)};F(St,o=>{N()&&o(Tt)})}s(tt),Qt(tt,o=>X=o,()=>X),I((o,i,h,b,_,c,u,D)=>{x(q,"background",o),x(l,"color",i),n(f,a.title),x(Y,"color",h),n(Pt,b),x(U,"color",_),x(U,"border-bottom-color",c),x(Z,"color",u),x(Z,"border-bottom-color",D)},[()=>g().backgroundDark,()=>g().textBright,()=>g().textDim,()=>a.authors.join(", "),()=>r(p)==="info"?g().textBright:g().textDull,()=>r(p)==="info"?g().accent:"transparent",()=>r(p)==="discussion"?g().textBright:g().textDull,()=>r(p)==="discussion"?g().accent:"transparent"]),m(v,L)},$$slots:{default:!0}}),Kt()}Yt(["click"]);export{Aa as component,Ra as universal};
