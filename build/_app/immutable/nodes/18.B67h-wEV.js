import"../chunks/Bg9kRutz.js";import{p as wa,ae as n,af as C,f as P,g as ka,s as a,e as v,r as d,H as r,t as q,ad as ya}from"../chunks/B60NIL-c.js";import{s as ha}from"../chunks/WtNTA83C.js";import{a as la}from"../chunks/Ci1U5ZIt.js";import{p as B,i as xa}from"../chunks/DYFtAg2Y.js";import{e as Ca,i as Da}from"../chunks/BVGIpSUl.js";import{a as f,t as g}from"../chunks/DyR6v0x8.js";import{c as G,B as Fa,r as A,b as e,t as i,d as Ia,e as za,f as Na,g as Pa}from"../chunks/b27God9X.js";import{d as Ba,b as Ea}from"../chunks/crcT5ml2.js";import{b as E}from"../chunks/CSvhWgXl.js";import{b as Ra}from"../chunks/tbrsfC1P.js";import{g as Ta}from"../chunks/Cc6QAm8f.js";import{E as ia}from"../chunks/qvx2ID-x.js";import{F as Ua}from"../chunks/CmncCOfX.js";import{P as Ha}from"../chunks/DUYV5wO3.js";import{R as pa}from"../chunks/CiiuQxwb.js";function Sa(R,w){n(w,!1)}async function ja(R,w,l,p,u,c,D){if(!(r(w).length>0)){if(r(l)!==(await G).username&&await za(r(l))){n(p,!0);return}await Na({displayName:r(u),bio:r(c),username:r(l),pronouns:r(D)}),await Ta("/profile"),location.reload()}}var qa=g('<span class="error svelte-1w9i9n6"> </span>'),Aa=g('<input type="text" id="username" class="svelte-1w9i9n6"> <!>',1),Ga=g('<span class="error svelte-1w9i9n6">Username already taken</span>'),Ja=g('<button class="banner svelte-1w9i9n6"><div class="overlay svelte-1w9i9n6"></div> <!></button> <div class="profile svelte-1w9i9n6"><div class="profile-top svelte-1w9i9n6"><button class="profile-picture svelte-1w9i9n6"><div class="overlay svelte-1w9i9n6"></div> <!></button> <button class="save svelte-1w9i9n6">Save</button></div> <label for="display-name" class="svelte-1w9i9n6">Display Name</label> <input type="text" id="display-name" class="svelte-1w9i9n6"> <label for="username" class="svelte-1w9i9n6">Username</label> <span class="at svelte-1w9i9n6">@</span> <!> <!> <hr class="svelte-1w9i9n6"> <label for="pronouns" class="svelte-1w9i9n6">Pronouns</label> <input type="text" id="pronouns" class="svelte-1w9i9n6"> <span class="radio-input svelte-1w9i9n6"><label for="display-pronouns" class="svelte-1w9i9n6">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-1w9i9n6"><label for="display-post-pronouns" class="svelte-1w9i9n6">Display pronouns on your posts</label> <!></span> <hr class="svelte-1w9i9n6"> <label for="bio" class="svelte-1w9i9n6">Bio</label> <textarea class="bio svelte-1w9i9n6" id="bio"></textarea></div>',1),Ka=g("<!> <!>",1),La=g("<!> <!>",1);function ie(R,w){wa(w,!0),G.then(m=>{n(l,B(m.displayName)),n(p,B(m.username)),n(u,B(m.bio)),n(c,B(m.pronouns))});let l=C(""),p=C(""),u=C(""),c=C(""),D=ya(()=>Pa(r(p))),J,F=C(!1);var K=La(),L=P(K);Fa(L,{});var va=a(L,2);Ha(va,{children:(m,Ma)=>{var M=Ka(),O=P(M);la(O,()=>G,null,(ua,T)=>{var Q=Ja(),I=P(Q),ca=a(v(I),2);ia(ca,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),d(I);var V=a(I,2),z=v(V),k=v(z),ma=a(v(k),2);ia(ma,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),d(k);var W=a(k,2);W.__click=[ja,D,p,F,l,u,c],d(z);var X=a(z,2),y=a(X,2);A(y);var Y=a(y,2),Z=a(Y,2),$=a(Z,2);la($,()=>r(D),null,(t,b)=>{var N=Aa(),o=P(N);A(o),o.__input=[Sa,F],Ra(o,s=>J=s,()=>J);var _=a(o,2);Ca(_,17,()=>r(b),Da,(s,S)=>{var j=qa(),ga=v(j,!0);d(j),q(()=>ha(ga,r(S))),f(s,j)}),q((s,S)=>{e(o,"outline",r(F)||r(b).length>0?"2px solid indianred":"none"),e(o,"background",s),e(o,"color",S)},[()=>i().backgroundDark,()=>i().text]),E(o,()=>r(p),s=>n(p,s)),f(t,N)});var aa=a($,2);{var ba=t=>{var b=Ga();f(t,b)};xa(aa,t=>{r(F)&&t(ba)})}var ea=a(aa,2),ra=a(ea,2),h=a(ra,2);A(h);var U=a(h,2),ta=v(U),_a=a(ta,2);pa(_a,{id:"display-pronouns",size:.7}),d(U);var H=a(U,2),oa=v(H),fa=a(oa,2);pa(fa,{id:"display-post-pronouns",size:.7}),d(H);var sa=a(H,2),na=a(sa,2),x=a(na,2);Ea(x),d(V),q((t,b,N,o,_,s)=>{e(I,"background-image",`url('${r(T).banner??""}')`),e(z,"background",t),e(k,"border-color",t),e(k,"background-image",`url('${r(T).picture??""}')`),e(W,"background",`linear-gradient(${b??""}, ${N??""})`),e(X,"color",o),e(y,"background",t),e(y,"color",_),e(Y,"color",o),e(Z,"color",_),e(ea,"background",s),e(ra,"color",o),e(h,"background",t),e(h,"color",_),e(ta,"color",o),e(oa,"color",o),e(sa,"background",s),e(na,"color",o),Ia(x,`				${r(T).bio??""}
			`),e(x,"color",_),e(x,"background",t)},[()=>i().backgroundDark,()=>i().accent,()=>i().accent2,()=>i().textDull,()=>i().text,()=>i().textDark]),E(y,()=>r(l),t=>n(l,t)),E(h,()=>r(c),t=>n(c,t)),E(x,()=>r(u),t=>n(u,t)),f(ua,Q)});var da=a(O,2);Ua(da,{selected:"profile"}),f(m,M)},$$slots:{default:!0}}),f(R,K),ka()}Ba(["click","input"]);export{ie as component};
