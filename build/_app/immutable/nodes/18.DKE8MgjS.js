import"../chunks/Bg9kRutz.js";import{p as wa,ab as n,al as C,f as P,g as ka,s as a,e as v,r as d,I as r,t as A,ak as ya}from"../chunks/ZzbjMaxL.js";import{s as ha}from"../chunks/DfWBJXpw.js";import{a as la}from"../chunks/CaN9eekN.js";import{i as xa}from"../chunks/DPZ8gRHv.js";import{e as Ca,i as Da}from"../chunks/SjV7uEaf.js";import{a as f,t as g}from"../chunks/DNWF8ubz.js";import{B as Fa,r as G,b as e,t as i,c as Ia}from"../chunks/B0emLdTm.js";import{d as za,b as Na}from"../chunks/DNSqyUr2.js";import{b as B}from"../chunks/BsU-R_-9.js";import{p as E}from"../chunks/zrPdNk7G.js";import{b as Pa}from"../chunks/B8S2MUok.js";import{g as Ba}from"../chunks/BH4cheHN.js";import{a as H,b as Ea,c as Ra,d as Ta}from"../chunks/C2RLqV5n.js";import{E as ia}from"../chunks/BX7_W-y2.js";import{F as Ua}from"../chunks/DPnCo1nZ.js";import{P as Sa}from"../chunks/YcGVEFUA.js";import{R as pa}from"../chunks/DKHdZpo4.js";function ja(R,w){n(w,!1)}async function qa(R,w,l,p,u,c,D){if(!(r(w).length>0)){if(r(l)!==(await H).username&&await Ea(r(l))){n(p,!0);return}await Ra({displayName:r(u),bio:r(c),username:r(l),pronouns:r(D)}),await Ba("/profile"),location.reload()}}var Aa=g('<span class="error svelte-1w9i9n6"> </span>'),Ga=g('<input type="text" id="username" class="svelte-1w9i9n6"> <!>',1),Ha=g('<span class="error svelte-1w9i9n6">Username already taken</span>'),Ja=g('<button class="banner svelte-1w9i9n6"><div class="overlay svelte-1w9i9n6"></div> <!></button> <div class="profile svelte-1w9i9n6"><div class="profile-top svelte-1w9i9n6"><button class="profile-picture svelte-1w9i9n6"><div class="overlay svelte-1w9i9n6"></div> <!></button> <button class="save svelte-1w9i9n6">Save</button></div> <label for="display-name" class="svelte-1w9i9n6">Display Name</label> <input type="text" id="display-name" class="svelte-1w9i9n6"> <label for="username" class="svelte-1w9i9n6">Username</label> <span class="at svelte-1w9i9n6">@</span> <!> <!> <hr class="svelte-1w9i9n6"> <label for="pronouns" class="svelte-1w9i9n6">Pronouns</label> <input type="text" id="pronouns" class="svelte-1w9i9n6"> <span class="radio-input svelte-1w9i9n6"><label for="display-pronouns" class="svelte-1w9i9n6">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-1w9i9n6"><label for="display-post-pronouns" class="svelte-1w9i9n6">Display pronouns on your posts</label> <!></span> <hr class="svelte-1w9i9n6"> <label for="bio" class="svelte-1w9i9n6">Bio</label> <textarea class="bio svelte-1w9i9n6" id="bio"></textarea></div>',1),Ka=g("<!> <!>",1),La=g("<!> <!>",1);function ve(R,w){wa(w,!0),H.then(m=>{n(l,E(m.displayName)),n(p,E(m.username)),n(u,E(m.bio)),n(c,E(m.pronouns))});let l=C(""),p=C(""),u=C(""),c=C(""),D=ya(()=>Ta(r(p))),J,F=C(!1);var K=La(),L=P(K);Fa(L,{});var va=a(L,2);Sa(va,{children:(m,Ma)=>{var M=Ka(),O=P(M);la(O,()=>H,null,(ua,T)=>{var Q=Ja(),I=P(Q),ca=a(v(I),2);ia(ca,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),d(I);var V=a(I,2),z=v(V),k=v(z),ma=a(v(k),2);ia(ma,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),d(k);var W=a(k,2);W.__click=[qa,D,p,F,l,u,c],d(z);var X=a(z,2),y=a(X,2);G(y);var Y=a(y,2),Z=a(Y,2),$=a(Z,2);la($,()=>r(D),null,(o,b)=>{var N=Ga(),t=P(N);G(t),t.__input=[ja,F],Pa(t,s=>J=s,()=>J);var _=a(t,2);Ca(_,17,()=>r(b),Da,(s,j)=>{var q=Aa(),ga=v(q,!0);d(q),A(()=>ha(ga,r(j))),f(s,q)}),A((s,j)=>{e(t,"outline",r(F)||r(b).length>0?"2px solid indianred":"none"),e(t,"background",s),e(t,"color",j)},[()=>i().backgroundDark,()=>i().text]),B(t,()=>r(p),s=>n(p,s)),f(o,N)});var aa=a($,2);{var ba=o=>{var b=Ha();f(o,b)};xa(aa,o=>{r(F)&&o(ba)})}var ea=a(aa,2),ra=a(ea,2),h=a(ra,2);G(h);var U=a(h,2),oa=v(U),_a=a(oa,2);pa(_a,{id:"display-pronouns",size:.7}),d(U);var S=a(U,2),ta=v(S),fa=a(ta,2);pa(fa,{id:"display-post-pronouns",size:.7}),d(S);var sa=a(S,2),na=a(sa,2),x=a(na,2);Na(x),d(V),A((o,b,N,t,_,s)=>{e(I,"background-image",`url('${r(T).banner??""}')`),e(z,"background",o),e(k,"border-color",o),e(k,"background-image",`url('${r(T).picture??""}')`),e(W,"background",`linear-gradient(${b??""}, ${N??""})`),e(X,"color",t),e(y,"background",o),e(y,"color",_),e(Y,"color",t),e(Z,"color",_),e(ea,"background",s),e(ra,"color",t),e(h,"background",o),e(h,"color",_),e(oa,"color",t),e(ta,"color",t),e(sa,"background",s),e(na,"color",t),Ia(x,`				${r(T).bio??""}
			`),e(x,"color",_),e(x,"background",o)},[()=>i().backgroundDark,()=>i().accent,()=>i().accent2,()=>i().textDull,()=>i().text,()=>i().textDark]),B(y,()=>r(l),o=>n(l,o)),B(h,()=>r(c),o=>n(c,o)),B(x,()=>r(u),o=>n(u,o)),f(ua,Q)});var da=a(O,2);Ua(da,{selected:"profile"}),f(m,M)},$$slots:{default:!0}}),f(R,K),ka()}za(["click","input"]);export{ve as component};
