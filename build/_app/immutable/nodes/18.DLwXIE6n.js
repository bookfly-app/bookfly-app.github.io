import"../chunks/Bg9kRutz.js";import{p as Na,ae as p,af as N,f as T,t as D,a as Pa,g as s,d as Ra,s as a,j as n,r as i}from"../chunks/BKc628eD.js";import{s as Ta}from"../chunks/BdzqaIOV.js";import{a as fa}from"../chunks/Tz89-DA6.js";import{p as j,i as L}from"../chunks/C8FwvXbo.js";import{e as ja,i as La}from"../chunks/CS_7v10S.js";import{a as c,t as b,c as qa}from"../chunks/aB18zCBe.js";import{d as Q,B as Aa,e as Ga,f as Ha,t as l,b as o,g as Ja,r as O,h as Ka}from"../chunks/BHjscY8X.js";import{d as Ma,b as Oa}from"../chunks/BQkRYWVv.js";import{b as q}from"../chunks/DWJ5EWP3.js";import{b as Qa}from"../chunks/BZ3Nx4FG.js";import{g as Va}from"../chunks/DIGhCgRZ.js";import{E as ga}from"../chunks/FrfEp-fn.js";import{B as Wa}from"../chunks/eYlOTJTw.js";import{F as Xa}from"../chunks/fT079dM1.js";import{P as Ya}from"../chunks/CcdWH5mb.js";import{R as P}from"../chunks/BzDUO6fW.js";function Za(A,C){p(C,!1)}async function ha(A,C,d,u,_,f,k){if(!(s(C).length>0)){if(s(d)!==(await Q).username&&await Ga(s(d))){p(u,!0);return}await Ha({displayName:s(_),bio:s(f),username:s(d),pronouns:s(k)}),await Va("/profile"),location.reload()}}var Ua=b('<span class="error svelte-1oa3oie"> </span>'),$a=b('<span class="error svelte-1oa3oie">Username already taken</span>'),ae=b('<span class="badge-line svelte-1oa3oie">Show developer badge <!></span>'),ee=b('<span class="badge-line svelte-1oa3oie">Show moderator badge <!></span>'),oe=b('<span class="badge-line svelte-1oa3oie">Show moderator badge <!></span>'),se=b('<button class="banner svelte-1oa3oie"><!> <div class="overlay svelte-1oa3oie"></div> <!></button> <div class="profile svelte-1oa3oie"><div class="profile-top"><button class="profile-picture svelte-1oa3oie"><div class="overlay svelte-1oa3oie"></div> <!></button> <button class="save svelte-1oa3oie">Save</button></div> <label for="display-name" class="svelte-1oa3oie">Display Name</label> <input type="text" id="display-name" class="svelte-1oa3oie"> <label for="username" class="svelte-1oa3oie">Username</label> <div class="username svelte-1oa3oie"><span class="at svelte-1oa3oie">@</span> <input type="text" id="username" class="svelte-1oa3oie"></div> <!> <!> <hr class="svelte-1oa3oie"> <label for="pronouns" class="svelte-1oa3oie">Pronouns</label> <input type="text" id="pronouns" class="svelte-1oa3oie"> <span class="radio-input svelte-1oa3oie"><label for="display-pronouns" class="svelte-1oa3oie">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-1oa3oie"><label for="display-post-pronouns" class="svelte-1oa3oie">Display pronouns on your posts</label> <!></span> <hr class="svelte-1oa3oie"> <label for="bio" class="svelte-1oa3oie">Bio</label> <textarea class="bio svelte-1oa3oie" id="bio"></textarea> <hr class="svelte-1oa3oie"> <label class="svelte-1oa3oie">Badges</label> <!> <!> <!></div>',1),re=b('<!> <button class="save-bottom svelte-1oa3oie">Save</button> <!>',1),te=b("<!> <!>",1);function De(A,C){Na(C,!0),Q.then(y=>{p(d,j(y.displayName)),p(u,j(y.username)),p(_,j(y.bio)),p(f,j(y.pronouns))});let d=N(""),u=N(""),_=N(""),f=N(""),k=Ra(()=>Ja(s(u))),V,z=N(!1);var W=te(),X=T(W);Aa(X,{});var ka=a(X,2);Ya(ka,{children:(y,le)=>{var Y=re(),Z=T(Y);fa(Z,()=>Q,null,(H,m)=>{var U=se(),R=T(U),$=n(R);Wa($,{style:"position: absolute; top: 0.5rem; left: 0.5rem;"});var xa=a($,4);ga(xa,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),i(R);var aa=a(R,2),J=n(aa),B=n(J),wa=a(n(B),2);ga(wa,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),i(B);var ea=a(B,2);ea.__click=[ha,k,u,z,d,_,f],i(J);var oa=a(J,2),F=a(oa,2);O(F);var sa=a(F,2),I=a(sa,2),ra=n(I),S=a(ra,2);O(S),S.__input=[Za,z],Qa(S,e=>V=e,()=>V),i(I);var ta=a(I,2);fa(ta,()=>s(k),null,(e,r)=>{var v=qa(),t=T(v);ja(t,17,()=>s(r),La,(w,g)=>{var h=Ua(),Ea=n(h,!0);i(h),D(()=>Ta(Ea,s(g))),c(w,h)}),c(e,v)});var la=a(ta,2);{var Da=e=>{var r=$a();c(e,r)};L(la,e=>{s(z)&&e(Da)})}var na=a(la,2),ia=a(na,2),E=a(ia,2);O(E);var K=a(E,2),va=n(K),Ca=a(va,2);P(Ca,{id:"display-pronouns",size:.7}),i(K);var M=a(K,2),pa=n(M),za=a(pa,2);P(za,{id:"display-post-pronouns",size:.7}),i(M);var da=a(M,2),ca=a(da,2),x=a(ca,2);Oa(x);var ua=a(x,2),ma=a(ua,2),ba=a(ma,2);{var Ba=e=>{var r=ae(),v=a(n(r));P(v,{size:.6}),i(r),D(t=>o(r,"color",t),[()=>l().textDull]),c(e,r)};L(ba,e=>{s(m).tags.includes("dev")&&e(Ba)})}var _a=a(ba,2);{var Fa=e=>{var r=ee(),v=a(n(r));P(v,{size:.6}),i(r),D(t=>o(r,"color",t),[()=>l().textDull]),c(e,r)};L(_a,e=>{s(m).tags.includes("mod")&&e(Fa)})}var Ia=a(_a,2);{var Sa=e=>{var r=oe(),v=a(n(r));P(v,{size:.6}),i(r),D(t=>o(r,"color",t),[()=>l().textDull]),c(e,r)};L(Ia,e=>{s(m).tags.includes("developer")&&e(Sa)})}i(aa),D((e,r,v,t,w,g,h)=>{o(R,"background-image",`url('${s(m).banner??""}')`),o(B,"border-color",e),o(B,"background-image",`url('${s(m).picture??""}')`),o(ea,"background",`linear-gradient(${r??""}, ${v??""})`),o(oa,"color",t),o(F,"background",w),o(F,"color",g),o(sa,"color",t),o(I,"outline",s(z)||s(k).length>0?"2px solid indianred":"none"),o(I,"background",w),o(ra,"color",g),o(S,"color",g),o(na,"background",h),o(ia,"color",t),o(E,"background",w),o(E,"color",g),o(va,"color",t),o(pa,"color",t),o(da,"background",h),o(ca,"color",t),Ka(x,`				${s(m).bio??""}
			`),o(x,"color",g),o(x,"background",w),o(ua,"background",h),o(ma,"color",t)},[()=>l().background,()=>l().accent,()=>l().accent2,()=>l().textDull,()=>l().backgroundDark,()=>l().text,()=>l().textDark]),q(F,()=>s(d),e=>p(d,e)),q(S,()=>s(u),e=>p(u,e)),q(E,()=>s(f),e=>p(f,e)),q(x,()=>s(_),e=>p(_,e)),c(H,U)});var G=a(Z,2);G.__click=[ha,k,u,z,d,_,f];var ya=a(G,2);Xa(ya,{selected:"profile"}),D((H,m)=>o(G,"background",`linear-gradient(${H??""}, ${m??""})`),[()=>l().accent,()=>l().accent2]),c(y,Y)},$$slots:{default:!0}}),c(A,W),Pa()}Ma(["click","input"]);export{De as component};
