import"../chunks/Bg9kRutz.js";import{p as Na,ag as p,af as N,f as T,t as D,a as Pa,g as r,d as Ra,s as a,j as n,r as i}from"../chunks/BO_dsxE5.js";import{s as Ta}from"../chunks/0WGjuh-S.js";import{a as fa}from"../chunks/a6fUsN8N.js";import{p as j,i as L}from"../chunks/8RKJ_MII.js";import{e as ja,i as La}from"../chunks/B3-0hlRh.js";import{a as c,t as b,c as qa}from"../chunks/D6uidfMZ.js";import{r as O,b as Aa}from"../chunks/C9G_F7KX.js";import{d as Ga,b as Ha}from"../chunks/oUCqpRI-.js";import{b as Q,c as Ja,d as Ka,t as l,s as o,e as Ma}from"../chunks/B--cxG5T.js";import{b as q}from"../chunks/CbdBf25f.js";import{b as Oa}from"../chunks/CNEjyuJc.js";import{g as Qa}from"../chunks/CPWDtyGU.js";import{E as ga}from"../chunks/JqQRJX8s.js";import{B as Va}from"../chunks/FQpgdRBK.js";import{B as Wa}from"../chunks/DkF1SMXj.js";import{F as Xa}from"../chunks/DXa1AiWR.js";import{P as Ya}from"../chunks/DgqabkDF.js";import{R as P}from"../chunks/Bo8qFear.js";function Za(A,C){p(C,!1)}async function ka(A,C,d,u,_,f,h){if(!(r(C).length>0)){if(r(d)!==(await Q).username&&await Ja(r(d))){p(u,!0);return}await Ka({displayName:r(_),bio:r(f),username:r(d),pronouns:r(h)}),await Qa("/profile"),location.reload()}}var Ua=b('<span class="error svelte-1oa3oie"> </span>'),$a=b('<span class="error svelte-1oa3oie">Username already taken</span>'),ae=b('<span class="badge-line svelte-1oa3oie">Show developer badge <!></span>'),ee=b('<span class="badge-line svelte-1oa3oie">Show moderator badge <!></span>'),oe=b('<span class="badge-line svelte-1oa3oie">Show moderator badge <!></span>'),re=b('<button class="banner svelte-1oa3oie"><!> <div class="overlay svelte-1oa3oie"></div> <!></button> <div class="profile svelte-1oa3oie"><div class="profile-top"><button class="profile-picture svelte-1oa3oie"><div class="overlay svelte-1oa3oie"></div> <!></button> <button class="save svelte-1oa3oie">Save</button></div> <label for="display-name" class="svelte-1oa3oie">Display Name</label> <input type="text" id="display-name" class="svelte-1oa3oie"> <label for="username" class="svelte-1oa3oie">Username</label> <div class="username svelte-1oa3oie"><span class="at svelte-1oa3oie">@</span> <input type="text" id="username" class="svelte-1oa3oie"></div> <!> <!> <hr class="svelte-1oa3oie"> <label for="pronouns" class="svelte-1oa3oie">Pronouns</label> <input type="text" id="pronouns" class="svelte-1oa3oie"> <span class="radio-input svelte-1oa3oie"><label for="display-pronouns" class="svelte-1oa3oie">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-1oa3oie"><label for="display-post-pronouns" class="svelte-1oa3oie">Display pronouns on your posts</label> <!></span> <hr class="svelte-1oa3oie"> <label for="bio" class="svelte-1oa3oie">Bio</label> <textarea class="bio svelte-1oa3oie" id="bio"></textarea> <hr class="svelte-1oa3oie"> <label class="svelte-1oa3oie">Badges</label> <!> <!> <!></div>',1),se=b('<!> <button class="save-bottom svelte-1oa3oie">Save</button> <!>',1),te=b("<!> <!>",1);function ze(A,C){Na(C,!0),Q.then(y=>{p(d,j(y.displayName)),p(u,j(y.username)),p(_,j(y.bio)),p(f,j(y.pronouns))});let d=N(""),u=N(""),_=N(""),f=N(""),h=Ra(()=>Ma(r(u))),V,z=N(!1);var W=te(),X=T(W);Wa(X);var ha=a(X,2);Ya(ha,{children:(y,le)=>{var Y=se(),Z=T(Y);fa(Z,()=>Q,null,(H,m)=>{var U=re(),R=T(U),$=n(R);Va($,{style:"position: absolute; top: 0.5rem; left: 0.5rem;"});var xa=a($,4);ga(xa,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),i(R);var aa=a(R,2),J=n(aa),B=n(J),wa=a(n(B),2);ga(wa,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),i(B);var ea=a(B,2);ea.__click=[ka,h,u,z,d,_,f],i(J);var oa=a(J,2),F=a(oa,2);O(F);var ra=a(F,2),I=a(ra,2),sa=n(I),S=a(sa,2);O(S),S.__input=[Za,z],Oa(S,e=>V=e,()=>V),i(I);var ta=a(I,2);fa(ta,()=>r(h),null,(e,s)=>{var v=qa(),t=T(v);ja(t,17,()=>r(s),La,(w,g)=>{var k=Ua(),Ea=n(k,!0);i(k),D(()=>Ta(Ea,r(g))),c(w,k)}),c(e,v)});var la=a(ta,2);{var Da=e=>{var s=$a();c(e,s)};L(la,e=>{r(z)&&e(Da)})}var na=a(la,2),ia=a(na,2),E=a(ia,2);O(E);var K=a(E,2),va=n(K),Ca=a(va,2);P(Ca,{id:"display-pronouns",size:.7}),i(K);var M=a(K,2),pa=n(M),za=a(pa,2);P(za,{id:"display-post-pronouns",size:.7}),i(M);var da=a(M,2),ca=a(da,2),x=a(ca,2);Ha(x);var ua=a(x,2),ma=a(ua,2),ba=a(ma,2);{var Ba=e=>{var s=ae(),v=a(n(s));P(v,{size:.6}),i(s),D(t=>o(s,"color",t),[()=>l().textDull]),c(e,s)};L(ba,e=>{r(m).tags.includes("dev")&&e(Ba)})}var _a=a(ba,2);{var Fa=e=>{var s=ee(),v=a(n(s));P(v,{size:.6}),i(s),D(t=>o(s,"color",t),[()=>l().textDull]),c(e,s)};L(_a,e=>{r(m).tags.includes("mod")&&e(Fa)})}var Ia=a(_a,2);{var Sa=e=>{var s=oe(),v=a(n(s));P(v,{size:.6}),i(s),D(t=>o(s,"color",t),[()=>l().textDull]),c(e,s)};L(Ia,e=>{r(m).tags.includes("developer")&&e(Sa)})}i(aa),D((e,s,v,t,w,g,k)=>{o(R,"background-image",`url('${r(m).banner??""}')`),o(B,"border-color",e),o(B,"background-image",`url('${r(m).picture??""}')`),o(ea,"background",`linear-gradient(${s??""}, ${v??""})`),o(oa,"color",t),o(F,"background",w),o(F,"color",g),o(ra,"color",t),o(I,"outline",r(z)||r(h).length>0?"2px solid indianred":"none"),o(I,"background",w),o(sa,"color",g),o(S,"color",g),o(na,"background",k),o(ia,"color",t),o(E,"background",w),o(E,"color",g),o(va,"color",t),o(pa,"color",t),o(da,"background",k),o(ca,"color",t),Aa(x,`				${r(m).bio??""}
			`),o(x,"color",g),o(x,"background",w),o(ua,"background",k),o(ma,"color",t)},[()=>l().background,()=>l().accent,()=>l().accent2,()=>l().textDull,()=>l().backgroundDark,()=>l().text,()=>l().textDark]),q(F,()=>r(d),e=>p(d,e)),q(S,()=>r(u),e=>p(u,e)),q(E,()=>r(f),e=>p(f,e)),q(x,()=>r(_),e=>p(_,e)),c(H,U)});var G=a(Z,2);G.__click=[ka,h,u,z,d,_,f];var ya=a(G,2);Xa(ya,{selected:"profile"}),D((H,m)=>o(G,"background",`linear-gradient(${H??""}, ${m??""})`),[()=>l().accent,()=>l().accent2]),c(y,Y)},$$slots:{default:!0}}),c(A,W),Pa()}Ga(["click","input"]);export{ze as component};
