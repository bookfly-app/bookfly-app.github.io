import"../chunks/Bg9kRutz.js";import{p as ka,ae as n,af as D,f as N,a as ya,s as a,j as v,r as d,g as r,t as A,d as ha}from"../chunks/DiqXsxXx.js";import{s as xa}from"../chunks/BuDD57Oe.js";import{a as ia}from"../chunks/B9aUA73W.js";import{p as P,i as Ca}from"../chunks/B8MhMNG7.js";import{e as Da,i as Ba}from"../chunks/CEg9CAyN.js";import{a as f,t as g}from"../chunks/CBKY_uNu.js";import{d as H,B as Fa,r as G,b as e,t as l,e as Ia,f as za,g as Na,h as Pa}from"../chunks/uEAOx7Lv.js";import{d as Ea,b as Ra}from"../chunks/C5FOHo4g.js";import{b as E}from"../chunks/B9krz5El.js";import{b as Ta}from"../chunks/DfWF4Mlz.js";import{g as Ua}from"../chunks/BldlEcSw.js";import{E as pa}from"../chunks/Ck5bhvte.js";import{B as ja}from"../chunks/EzTi7Xpl.js";import{F as Sa}from"../chunks/DVRSHpCR.js";import{P as qa}from"../chunks/CHT08fME.js";import{R as va}from"../chunks/YIXKJzaq.js";function Aa(R,w){n(w,!1)}async function Ga(R,w,i,p,u,c,B){if(!(r(w).length>0)){if(r(i)!==(await H).username&&await za(r(i))){n(p,!0);return}await Na({displayName:r(u),bio:r(c),username:r(i),pronouns:r(B)}),await Ua("/profile"),location.reload()}}var Ha=g('<span class="error svelte-1w9i9n6"> </span>'),Ja=g('<input type="text" id="username" class="svelte-1w9i9n6"> <!>',1),Ka=g('<span class="error svelte-1w9i9n6">Username already taken</span>'),La=g('<button class="banner svelte-1w9i9n6"><!> <div class="overlay svelte-1w9i9n6"></div> <!></button> <div class="profile svelte-1w9i9n6"><div class="profile-top svelte-1w9i9n6"><button class="profile-picture svelte-1w9i9n6"><div class="overlay svelte-1w9i9n6"></div> <!></button> <button class="save svelte-1w9i9n6">Save</button></div> <label for="display-name" class="svelte-1w9i9n6">Display Name</label> <input type="text" id="display-name" class="svelte-1w9i9n6"> <label for="username" class="svelte-1w9i9n6">Username</label> <span class="at svelte-1w9i9n6">@</span> <!> <!> <hr class="svelte-1w9i9n6"> <label for="pronouns" class="svelte-1w9i9n6">Pronouns</label> <input type="text" id="pronouns" class="svelte-1w9i9n6"> <span class="radio-input svelte-1w9i9n6"><label for="display-pronouns" class="svelte-1w9i9n6">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-1w9i9n6"><label for="display-post-pronouns" class="svelte-1w9i9n6">Display pronouns on your posts</label> <!></span> <hr class="svelte-1w9i9n6"> <label for="bio" class="svelte-1w9i9n6">Bio</label> <textarea class="bio svelte-1w9i9n6" id="bio"></textarea></div>',1),Ma=g("<!> <!>",1),Oa=g("<!> <!>",1);function de(R,w){ka(w,!0),H.then(m=>{n(i,P(m.displayName)),n(p,P(m.username)),n(u,P(m.bio)),n(c,P(m.pronouns))});let i=D(""),p=D(""),u=D(""),c=D(""),B=ha(()=>Pa(r(p))),J,F=D(!1);var K=Oa(),L=N(K);Fa(L,{});var da=a(L,2);qa(da,{children:(m,Qa)=>{var M=Ma(),O=N(M);ia(O,()=>H,null,(ca,T)=>{var Q=La(),I=N(Q),V=v(I);ja(V,{style:"position: absolute; top: 0.5rem; left: 0.5rem;"});var ma=a(V,4);pa(ma,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),d(I);var W=a(I,2),U=v(W),k=v(U),ba=a(v(k),2);pa(ba,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),d(k);var X=a(k,2);X.__click=[Ga,B,p,F,i,u,c],d(U);var Y=a(U,2),y=a(Y,2);G(y);var Z=a(y,2),$=a(Z,2),aa=a($,2);ia(aa,()=>r(B),null,(o,b)=>{var z=Ja(),t=N(z);G(t),t.__input=[Aa,F],Ta(t,s=>J=s,()=>J);var C=a(t,2);Da(C,17,()=>r(b),Ba,(s,_)=>{var q=Ha(),wa=v(q,!0);d(q),A(()=>xa(wa,r(_))),f(s,q)}),A((s,_)=>{e(t,"outline",r(F)||r(b).length>0?"2px solid indianred":"none"),e(t,"background",s),e(t,"color",_)},[()=>l().backgroundDark,()=>l().text]),E(t,()=>r(p),s=>n(p,s)),f(o,z)});var ea=a(aa,2);{var _a=o=>{var b=Ka();f(o,b)};Ca(ea,o=>{r(F)&&o(_a)})}var ra=a(ea,2),ta=a(ra,2),h=a(ta,2);G(h);var j=a(h,2),oa=v(j),fa=a(oa,2);va(fa,{id:"display-pronouns",size:.7}),d(j);var S=a(j,2),sa=v(S),ga=a(sa,2);va(ga,{id:"display-post-pronouns",size:.7}),d(S);var na=a(S,2),la=a(na,2),x=a(la,2);Ra(x),d(W),A((o,b,z,t,C,s,_)=>{e(I,"background-image",`url('${r(T).banner??""}')`),e(k,"border-color",o),e(k,"background-image",`url('${r(T).picture??""}')`),e(X,"background",`linear-gradient(${b??""}, ${z??""})`),e(Y,"color",t),e(y,"background",C),e(y,"color",s),e(Z,"color",t),e($,"color",s),e(ra,"background",_),e(ta,"color",t),e(h,"background",C),e(h,"color",s),e(oa,"color",t),e(sa,"color",t),e(na,"background",_),e(la,"color",t),Ia(x,`				${r(T).bio??""}
			`),e(x,"color",s),e(x,"background",C)},[()=>l().background,()=>l().accent,()=>l().accent2,()=>l().textDull,()=>l().backgroundDark,()=>l().text,()=>l().textDark]),E(y,()=>r(i),o=>n(i,o)),E(h,()=>r(c),o=>n(c,o)),E(x,()=>r(u),o=>n(u,o)),f(ca,Q)});var ua=a(O,2);Sa(ua,{selected:"profile"}),f(m,M)},$$slots:{default:!0}}),f(R,K),ya()}Ea(["click","input"]);export{de as component};
