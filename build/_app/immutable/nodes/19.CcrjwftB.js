import"../chunks/Bg9kRutz.js";import{p as Ra,aa as n,a9 as y,f as M,t as x,a as Ta,g as l,d as ja,s as e,j as p,r as v}from"../chunks/DS4hZ2gQ.js";import{s as La}from"../chunks/CaB2gU4d.js";import{b as Q,c as ha,d as qa,e as Aa,t as i,s as r,f as Ga,g as Ha}from"../chunks/DLcAAEJF.js";import{p as b,i as T}from"../chunks/DU6_0F4v.js";import{e as Ja,i as Ka}from"../chunks/DS8sFolU.js";import{a as g,t as c}from"../chunks/BWjh48UC.js";import{r as O,b as Ma}from"../chunks/CEvXu-Yb.js";import{d as Oa,b as Qa}from"../chunks/v-gzyAfz.js";import{b as j}from"../chunks/CfxRyQs9.js";import{b as Ua}from"../chunks/DXvwv68a.js";import{g as Va}from"../chunks/2PMYSuv_.js";import{E as ya}from"../chunks/iRKWJGiQ.js";import{B as Wa}from"../chunks/JucQUQTz.js";import{B as Xa}from"../chunks/6NqtgJ9Z.js";import{F as Ya}from"../chunks/Bg5-f8vH.js";import{I as xa}from"../chunks/C_oNxgaC.js";import{P as Za}from"../chunks/BwpCW82D.js";import{R as S}from"../chunks/z6mhimO3.js";function $a(L,I){n(I,!1)}async function wa(L,I,d,D,u,_,f){if(!(l(I).length>0)){if(l(d)!==(await Q).username&&await qa(l(d))){n(D,!0);return}await Aa({displayName:l(u),bio:l(_),username:l(d),pronouns:l(f)}),await Va("/profile"),location.reload()}}var ae=c('<label for="set-profile-picture" class="profile-picture svelte-99ggl6"><div class="overlay svelte-99ggl6"></div> <!></label>'),ee=c('<span class="error svelte-99ggl6"> </span>'),re=c('<span class="error svelte-99ggl6">Username already taken</span>'),le=c('<span class="badge-line svelte-99ggl6">Show developer badge <!></span>'),se=c('<span class="badge-line svelte-99ggl6">Show moderator badge <!></span>'),oe=c('<span class="badge-line svelte-99ggl6">Show moderator badge <!></span>'),te=c('<label for="set-banner" class="banner svelte-99ggl6"><div class="overlay svelte-99ggl6"></div> <!></label> <!> <div class="profile svelte-99ggl6"><div><!> <!> <button class="save svelte-99ggl6">Save</button></div> <label for="display-name" class="svelte-99ggl6">Display Name</label> <input type="text" id="display-name" class="svelte-99ggl6"> <label for="username" class="svelte-99ggl6">Username</label> <div class="username svelte-99ggl6"><span class="at svelte-99ggl6">@</span> <input type="text" id="username" class="svelte-99ggl6"></div> <!> <!> <hr class="svelte-99ggl6"> <label for="pronouns" class="svelte-99ggl6">Pronouns</label> <input type="text" id="pronouns" class="svelte-99ggl6"> <span class="radio-input svelte-99ggl6"><label for="display-pronouns" class="svelte-99ggl6">Display pronouns on your profile</label> <!></span> <span class="radio-input svelte-99ggl6"><label for="display-post-pronouns" class="svelte-99ggl6">Display pronouns on your posts</label> <!></span> <hr class="svelte-99ggl6"> <label for="bio" class="svelte-99ggl6">Bio</label> <textarea class="bio svelte-99ggl6" id="bio"></textarea> <hr class="svelte-99ggl6"> <label class="svelte-99ggl6">Badges</label> <!> <!> <!></div>',1),ne=c('<!> <!> <button class="save-bottom svelte-99ggl6">Save</button> <!>',1),ie=c("<!> <!>",1);function Fe(L,I){Ra(I,!0),Q.then(m=>{n(d,b(m.displayName)),n(u,b(m.username)),n(_,b(m.bio)),n(f,b(m.pronouns)),n(E,b(m.picture)),n(D,b(m.banner))});let d=y(""),D=y(""),u=y(""),_=y(""),f=y(""),E=y(""),N=ja(()=>Ga(l(u))),U,C=y(!1);var V=ie(),W=M(V);Xa(W);var Ia=e(W,2);Za(Ia,{children:(m,pe)=>{var X=ne(),Y=M(X);Wa(Y,{style:"position: absolute; top: 0.5rem; left: 0.5rem;"});var Z=e(Y,2);ha(Z,()=>Q,null,(A,k)=>{var $=te(),R=M($),Ca=e(p(R),2);ya(Ca,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 3rem; height: 3rem; z-index: 4;"}),v(R);var aa=e(R,2);xa(aa,{id:"set-banner",get imageId(){return l(D)},set imageId(a){n(D,b(a))}});var ea=e(aa,2),G=p(ea),ra=p(G);ha(ra,()=>Ha(l(E)),null,(a,o)=>{var s=ae(),t=e(p(s),2);ya(t,{stroke:"#CCCCFF",style:"position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; z-index: 4;"}),v(s),x(h=>{r(s,"border-color",h),r(s,"background-image",`url('${l(o)??""}')`)},[()=>i().background]),g(a,s)});var la=e(ra,2);xa(la,{id:"set-profile-picture",get imageId(){return l(E)},set imageId(a){n(E,b(a))}});var sa=e(la,2);sa.__click=[wa,N,u,C,d,_,f],v(G);var oa=e(G,2),z=e(oa,2);O(z);var ta=e(z,2),B=e(ta,2),na=p(B),F=e(na,2);O(F),F.__input=[$a,C],Ua(F,a=>U=a,()=>U),v(B);var ia=e(B,2);Ja(ia,17,()=>l(N),Ka,(a,o)=>{var s=ee(),t=p(s,!0);v(s),x(()=>La(t,l(o))),g(a,s)});var pa=e(ia,2);{var za=a=>{var o=re();g(a,o)};T(pa,a=>{l(C)&&a(za)})}var va=e(pa,2),da=e(va,2),P=e(da,2);O(P);var H=e(P,2),ga=p(H),Ba=e(ga,2);S(Ba,{id:"display-pronouns",size:.7}),v(H);var J=e(H,2),ca=p(J),Fa=e(ca,2);S(Fa,{id:"display-post-pronouns",size:.7}),v(J);var ua=e(J,2),ma=e(ua,2),w=e(ma,2);Qa(w);var ba=e(w,2),_a=e(ba,2),fa=e(_a,2);{var Pa=a=>{var o=le(),s=e(p(o));S(s,{size:.6}),v(o),x(t=>r(o,"color",t),[()=>i().textDull]),g(a,o)};T(fa,a=>{l(k).tags.includes("dev")&&a(Pa)})}var ka=e(fa,2);{var Sa=a=>{var o=se(),s=e(p(o));S(s,{size:.6}),v(o),x(t=>r(o,"color",t),[()=>i().textDull]),g(a,o)};T(ka,a=>{l(k).tags.includes("mod")&&a(Sa)})}var Ea=e(ka,2);{var Na=a=>{var o=oe(),s=e(p(o));S(s,{size:.6}),v(o),x(t=>r(o,"color",t),[()=>i().textDull]),g(a,o)};T(Ea,a=>{l(k).tags.includes("developer")&&a(Na)})}v(ea),x((a,o,s,t,h,K)=>{r(R,"background-image",`url('${l(k).banner??""}')`),r(sa,"background",`linear-gradient(${a??""}, ${o??""})`),r(oa,"color",s),r(z,"background",t),r(z,"color",h),r(ta,"color",s),r(B,"outline",l(C)||l(N).length>0?"2px solid indianred":"none"),r(B,"background",t),r(na,"color",h),r(F,"color",h),r(va,"background",K),r(da,"color",s),r(P,"background",t),r(P,"color",h),r(ga,"color",s),r(ca,"color",s),r(ua,"background",K),r(ma,"color",s),Ma(w,`				${l(k).bio??""}
			`),r(w,"color",h),r(w,"background",t),r(ba,"background",K),r(_a,"color",s)},[()=>i().accent,()=>i().accent2,()=>i().textDull,()=>i().backgroundDark,()=>i().text,()=>i().textDark]),j(z,()=>l(d),a=>n(d,a)),j(F,()=>l(u),a=>n(u,a)),j(P,()=>l(f),a=>n(f,a)),j(w,()=>l(_),a=>n(_,a)),g(A,$)});var q=e(Z,2);q.__click=[wa,N,u,C,d,_,f];var Da=e(q,2);Ya(Da,{selected:"profile"}),x((A,k)=>r(q,"background",`linear-gradient(${A??""}, ${k??""})`),[()=>i().accent,()=>i().accent2]),g(m,X)},$$slots:{default:!0}}),g(L,V),Ta()}Oa(["click","input"]);export{Fe as component};
