import"../chunks/Bg9kRutz.js";import{p as xt,I as t,f as y,t as D,g as yt,ab as st,al as Dt,s as o,e as p,ak as G,r as l}from"../chunks/ZzbjMaxL.js";import{s as ct}from"../chunks/DfWBJXpw.js";import{a as Z}from"../chunks/CaN9eekN.js";import{i as q}from"../chunks/DPZ8gRHv.js";import{e as tt,i as et}from"../chunks/SjV7uEaf.js";import{a as s,t as n,c as $}from"../chunks/DNWF8ubz.js";import{B as Bt,t as e,b as r,r as wt,s as rt}from"../chunks/B0emLdTm.js";import{d as Pt}from"../chunks/DNSqyUr2.js";import{b as Nt}from"../chunks/BsU-R_-9.js";import{b as Lt}from"../chunks/B8S2MUok.js";import{g as Mt}from"../chunks/DL6ChU8Y.js";import{m as Ut,i as jt,n as St}from"../chunks/C2RLqV5n.js";import{F as Wt}from"../chunks/DPnCo1nZ.js";import{P as qt}from"../chunks/YcGVEFUA.js";import{A as At}from"../chunks/Didhfsn1.js";import{U as Ft}from"../chunks/D9h8qIL7.js";const Ot=({params:A})=>A,be=Object.freeze(Object.defineProperty({__proto__:null,load:Ot},Symbol.toStringTag,{value:"Module"}));var Tt=(A,M)=>st(M,"posts"),$t=(A,M)=>st(M,"books"),zt=(A,M)=>st(M,"people"),Ct=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">No posts found</h1> <p class="svelte-1sv6tt3">No posts were found relating to your search term. Make sure you spelled everything right!</p></div>'),Et=n("<!> <!>",1),It=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">Loading posts...</h1> <p class="svelte-1sv6tt3">We promise Bookfly will be faster soon.</p></div>'),Gt=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">No books found</h1> <p class="svelte-1sv6tt3">No books were found relating to your search term. Make sure you spelled everything right!</p></div>'),Ht=n('<img class="cover svelte-1sv6tt3">'),Jt=n('<div class="nocover svelte-1sv6tt3">?</div>'),Kt=n('<a class="book svelte-1sv6tt3"><div class="book-info svelte-1sv6tt3"><h1 class="svelte-1sv6tt3"> </h1> <h2 class="svelte-1sv6tt3"> </h2></div> <!></a>'),Qt=n('<!> <div class="books svelte-1sv6tt3"></div>',1),Rt=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">Loading books...</h1> <p class="svelte-1sv6tt3">We promise Bookfly will be faster soon.</p></div>'),Vt=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">No users found</h1> <p class="svelte-1sv6tt3">No users were found relating to your search term. Make sure you spelled everything right!</p></div>'),Xt=n('<!> <div class="people"></div>',1),Yt=n('<div class="loading svelte-1sv6tt3"><h1 class="svelte-1sv6tt3">Loading accounts...</h1> <p class="svelte-1sv6tt3">We promise Bookfly will be faster soon.</p></div>'),Zt=n('<section><div class="wrapper svelte-1sv6tt3"><input type="text" class="svelte-1sv6tt3"> <div class="views svelte-1sv6tt3"><button class="svelte-1sv6tt3">Posts</button> <button class="svelte-1sv6tt3">Books</button> <button class="svelte-1sv6tt3">People</button></div></div> <!></section> <!>',1),te=n("<!> <!>",1);function ke(A,M){xt(M,!0);function nt(O){return O.replace("+"," ")}let ot,z=G(()=>M.data.query),u=Dt("posts"),dt=G(()=>Ut(t(z).replace("+"," "))),_t=G(()=>jt(t(z))),pt=G(()=>St(t(z).replace("+"," "))),H=nt(t(z));function ut(O){O.key==="Enter"&&Mt(`/search/${H.replace(" ","+")}`)}var at=te(),vt=y(at);Bt(vt,{});var ft=o(vt,2);qt(ft,{children:(O,ee)=>{var lt=Zt(),J=y(lt),C=p(J),j=p(C);wt(j),j.__keyup=ut,Lt(j,f=>ot=f,()=>ot);var it=o(j,2),E=p(it);E.__click=[Tt,u];var I=o(E,2);I.__click=[$t,u];var K=o(I,2);K.__click=[zt,u],l(it),l(C);var mt=o(C,2);{var gt=f=>{var S=$(),T=y(S);Z(T,()=>t(dt),W=>{var k=It(),i=p(k),m=o(i,2);l(k),D((B,b)=>{r(i,"color",B),r(m,"color",b)},[()=>e().text,()=>e().textDull]),s(W,k)},(W,k)=>{var i=Et(),m=y(i);{var B=a=>{var c=Ct(),w=p(c),P=o(w,2);l(c),D((d,_)=>{r(w,"color",d),r(P,"color",_)},[()=>e().text,()=>e().textDull]),s(a,c)};q(m,a=>{t(k).length===0&&a(B)})}var b=o(m,2);tt(b,17,()=>t(k),et,(a,c)=>{At(a,{get post(){return t(c)}})}),s(W,i)}),s(f,S)},ht=f=>{var S=$(),T=y(S);{var W=i=>{var m=$(),B=y(m);Z(B,()=>t(_t),b=>{var a=Rt(),c=p(a),w=o(c,2);l(a),D((P,d)=>{r(c,"color",P),r(w,"color",d)},[()=>e().text,()=>e().textDull]),s(b,a)},(b,a)=>{var c=Qt(),w=y(c);{var P=_=>{var v=Gt(),g=p(v),x=o(g,2);l(v),D((h,N)=>{r(g,"color",h),r(x,"color",N)},[()=>e().text,()=>e().textDull]),s(_,v)};q(w,_=>{t(a).length===0&&_(P)})}var d=o(w,2);tt(d,21,()=>t(a),et,(_,v)=>{var g=Kt(),x=p(g),h=p(x),N=p(h,!0);l(h);var F=o(h,2),Q=p(F,!0);l(F),l(x);var R=o(x,2);{var V=U=>{var L=Ht();D(()=>{rt(L,"alt",`Cover for ${t(v).title}`),rt(L,"src",t(v).cover)}),s(U,L)},kt=U=>{var L=Jt();D((X,Y)=>{r(L,"background-image",X),r(L,"color",Y)},[()=>`linear-gradient(${e().accent}, ${e().accent2})`,()=>e().backgroundDark]),s(U,L)};q(R,U=>{t(v).cover?U(V):U(kt,!1)})}l(g),D((U,L,X,Y)=>{rt(g,"href",`/book/${t(v).isbn}`),r(g,"border-color",U),r(h,"color",L),ct(N,t(v).title),r(F,"color",X),ct(Q,Y)},[()=>e().textDark,()=>e().textBright,()=>e().textDim,()=>t(v).authors.join(", ")]),s(_,g)}),l(d),s(b,c)}),s(i,m)},k=i=>{var m=$(),B=y(m);{var b=a=>{var c=$(),w=y(c);Z(w,()=>t(pt),P=>{var d=Yt(),_=p(d),v=o(_,2);l(d),D((g,x)=>{r(_,"color",g),r(v,"color",x)},[()=>e().text,()=>e().textDull]),s(P,d)},(P,d)=>{var _=Xt(),v=y(_);{var g=h=>{var N=Vt(),F=p(N),Q=o(F,2);l(N),D((R,V)=>{r(F,"color",R),r(Q,"color",V)},[()=>e().text,()=>e().textDull]),s(h,N)};q(v,h=>{t(d).length===0&&h(g)})}var x=o(v,2);tt(x,21,()=>t(d),et,(h,N)=>{Ft(h,{get user(){return t(N)}})}),l(x),s(P,_)}),s(a,c)};q(B,a=>{t(u)==="people"&&a(b)},!0)}s(i,m)};q(T,i=>{t(u)==="books"?i(W):i(k,!1)},!0)}s(f,S)};q(mt,f=>{t(u)==="posts"?f(gt):f(ht,!1)})}l(J);var bt=o(J,2);Wt(bt,{selected:"search"}),D((f,S,T,W,k,i,m,B,b)=>{r(C,"background",f),r(j,"background",S),r(j,"color",T),r(E,"color",W),r(E,"border-color",k),r(I,"color",i),r(I,"border-color",m),r(K,"color",B),r(K,"border-color",b)},[()=>e().backgroundDark,()=>e().background,()=>e().textBright,()=>t(u)==="posts"?e().textBright:e().textDull,()=>t(u)==="posts"?e().accent:"transparent",()=>t(u)==="books"?e().textBright:e().textDull,()=>t(u)==="books"?e().accent:"transparent",()=>t(u)==="people"?e().textBright:e().textDull,()=>t(u)==="people"?e().accent:"transparent"]),Nt(j,()=>H,f=>H=f),s(O,lt)},$$slots:{default:!0}}),s(A,at),yt()}Pt(["keyup","click"]);export{ke as component,be as universal};
