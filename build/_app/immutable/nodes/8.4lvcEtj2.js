import{n as st,o as lt,B as it,t as r,u as nt,b as a,s as G}from"../chunks/b27God9X.js";import"../chunks/Bg9kRutz.js";import{p as ct,f as B,t as J,g as vt,ae as L,af as dt,s as o,e as s,H as v,r as l}from"../chunks/B60NIL-c.js";import{s as $}from"../chunks/WtNTA83C.js";import{a as ut}from"../chunks/Ci1U5ZIt.js";import{i as K}from"../chunks/DYFtAg2Y.js";import{e as mt,i as gt}from"../chunks/BVGIpSUl.js";import{a as h,t as H,c as z}from"../chunks/DyR6v0x8.js";import{d as _t}from"../chunks/crcT5ml2.js";import{b as ft}from"../chunks/tbrsfC1P.js";import{S as bt,F as pt}from"../chunks/CmncCOfX.js";import{P as ht,S as kt}from"../chunks/DUYV5wO3.js";import{A as yt}from"../chunks/CqUTuAg2.js";const xt=async({params:k})=>({book:await st(k.slug)}),Et=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"}));var Bt=(k,g)=>L(g,"info"),wt=(k,g)=>L(g,"discussion"),Dt=H('<div class="book-info svelte-1lyr7g5"><img class="cover svelte-1lyr7g5"> <p class="description svelte-1lyr7g5"> </p></div>'),St=H('<nav class="svelte-1lyr7g5"><div class="banner svelte-1lyr7g5"><button aria-label="Open sidebar" class="svelte-1lyr7g5"></button> <div class="book-name svelte-1lyr7g5"><h1 class="svelte-1lyr7g5"> </h1> <h2 class="svelte-1lyr7g5"> </h2></div> <!></div></nav> <section class="svelte-1lyr7g5"><div class="views svelte-1lyr7g5"><button class="svelte-1lyr7g5">Info</button> <button class="svelte-1lyr7g5">Discussion</button></div> <!></section> <!> <!>',1),Pt=H("<!> <!>",1);function Gt(k,g){ct(g,!0);let _=g.data.book,i=dt("info"),N=lt(_.isbn),P;function Q(y,q=3){y=y.replaceAll("--","â€”");let f=y.split(/([.!?])\s*/),n=[];for(let e=0;e<f.length;e+=2)n.push(f[e]+f[e+1]);return n.map((e,b)=>(b+1)%q===0&&b!==n.length-1?e+`

`:e).join("")}var M=Pt(),R=B(M);it(R,{});var U=o(R,2);ht(U,{style:"overflow-y: hidden;",children:(y,q)=>{var f=St(),n=B(f),j=s(n),e=s(j);e.__click=()=>P.show();var b=o(e,2),w=s(b),V=s(w,!0);l(w);var A=o(w,2),W=s(A,!0);l(A),l(b);var X=o(b,2);bt(X,{style:"width: 2rem; height: 2rem;",get stroke(){return r().textBright}}),l(j),l(n);var O=o(n,2),D=s(O),S=s(D);S.__click=[Bt,i];var T=o(S,2);T.__click=[wt,i],l(D);var Y=o(D,2);{var Z=t=>{var c=Dt(),d=s(c),u=o(d,2),m=s(u,!0);l(u),l(c),J((p,x)=>{G(d,"alt",`${_.title} cover`),G(d,"src",_.cover),a(u,"color",p),$(m,x)},[()=>r().textDull,()=>Q(_.description)]),h(t,c)},tt=t=>{var c=z(),d=B(c);{var u=m=>{var p=z(),x=B(p);ut(x,()=>N,null,(F,I)=>{var E=z(),rt=B(E);mt(rt,17,()=>v(I),gt,(at,ot)=>{yt(at,{get post(){return v(ot)}})}),h(F,E)}),h(m,p)};K(d,m=>{v(i)==="discussion"&&m(u)},!0)}h(t,c)};K(Y,t=>{v(i)==="info"?t(Z):t(tt,!1)})}l(O);var C=o(O,2);pt(C,{selected:"search"});var et=o(C,2);ft(kt(et,{}),t=>P=t,()=>P),J((t,c,d,u,m,p,x,F,I)=>{a(n,"background",t),a(e,"background-image",c),a(w,"color",d),$(V,_.title),a(A,"color",u),$(W,m),a(D,"background-color",t),a(S,"color",p),a(S,"border-bottom-color",x),a(T,"color",F),a(T,"border-bottom-color",I)},[()=>r().backgroundDark,()=>{var t;return`url("${((t=nt())==null?void 0:t.picture)??""}")`},()=>r().textBright,()=>r().textDim,()=>_.authors.join(", "),()=>v(i)==="info"?r().textBright:r().textDull,()=>v(i)==="info"?r().accent:"transparent",()=>v(i)==="discussion"?r().textBright:r().textDull,()=>v(i)==="discussion"?r().accent:"transparent"]),h(y,f)},$$slots:{default:!0}}),h(k,M),vt()}_t(["click"]);export{Gt as component,Et as universal};
