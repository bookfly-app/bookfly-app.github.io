import{b as tt,c as et,g as ot}from"../chunks/C4bEEYCC.js";import{a as p,t as E,c as T}from"../chunks/B71co7hf.js";import{p as at,ag as x,t as U,a as rt,a4 as G,ah as st,c as l,s as i,x as b,r as c}from"../chunks/DPfC8MYq.js";import{s as F}from"../chunks/DlS_wHck.js";import{a as it,A as nt}from"../chunks/B-wc2tT0.js";import{i as q}from"../chunks/quy6V6DK.js";import{e as lt,i as ct}from"../chunks/VMik9WFC.js";import{s as C}from"../chunks/BDjJzRxm.js";import{d as vt}from"../chunks/BaFUJi82.js";import{B as ft,t as s,s as n}from"../chunks/C30DWIvn.js";import{S as mt,F as bt}from"../chunks/DI1WLfDB.js";import{s as ut,S as dt}from"../chunks/RlGAjnqN.js";const _t=async({params:_})=>({book:await tt(_.slug)}),Pt=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var pt=(_,u)=>G(u,"info"),gt=(_,u)=>G(u,"discussion"),ht=E('<div class="book-info svelte-1joob0f"><img class="cover svelte-1joob0f"> <p class="description svelte-1joob0f"> </p></div>'),kt=E('<!> <nav class="svelte-1joob0f"><div class="banner svelte-1joob0f"><button aria-label="Open sidebar" class="svelte-1joob0f"></button> <div class="book-name svelte-1joob0f"><h1 class="svelte-1joob0f"> </h1> <h2 class="svelte-1joob0f"> </h2></div> <!></div></nav> <main class="svelte-1joob0f"><div class="views svelte-1joob0f"><button class="svelte-1joob0f">Info</button> <button class="svelte-1joob0f">Discussion</button></div> <!></main> <!> <!>',1);function zt(_,u){at(u,!0);let d=u.data.book,v=st("info"),H=et(d.isbn);function J(t,o=3){t=t.replaceAll("--","â€”");let a=t.split(/([.!?])\s*/),r=[];for(let e=0;e<a.length;e+=2)r.push(a[e]+a[e+1]);return r.map((e,m)=>(m+1)%o===0&&m!==r.length-1?e+`

`:e).join("")}var I=kt(),P=x(I);ft(P,{});var g=i(P,2),z=l(g),y=l(z);y.__click=function(...t){var o;(o=ut)==null||o.apply(this,t)};var B=i(y,2),h=l(B),K=l(h,!0);c(h);var D=i(h,2),L=l(D,!0);c(D),c(B);var N=i(B,2);mt(N,{style:"width: 2rem; height: 2rem;",get stroke(){return s().textBright}}),c(z),c(g);var S=i(g,2),k=l(S),j=l(k);j.__click=[pt,v];var w=i(j,2);w.__click=[gt,v],c(k);var Q=i(k,2);{var V=t=>{var o=ht(),a=l(o),r=i(a,2),f=l(r,!0);c(r),c(o),U((e,m)=>{C(a,"alt",`${d.title} cover`),C(a,"src",d.cover),n(r,"color",e),F(f,m)},[()=>s().textDull,()=>J(d.description)]),p(t,o)},W=t=>{var o=T(),a=x(o);{var r=f=>{var e=T(),m=x(e);it(m,()=>H,null,(A,O)=>{var R=T(),Y=x(R);lt(Y,17,()=>b(O),ct,(Z,$)=>{nt(Z,{get post(){return b($)}})}),p(A,R)}),p(f,e)};q(a,f=>{b(v)==="discussion"&&f(r)},!0)}p(t,o)};q(Q,t=>{b(v)==="info"?t(V):t(W,!1)})}c(S);var M=i(S,2);bt(M,{selected:"search"});var X=i(M,2);dt(X,{}),U((t,o,a,r,f,e,m,A,O)=>{n(g,"background",t),n(y,"background-image",o),n(h,"color",a),F(K,d.title),n(D,"color",r),F(L,f),n(k,"background-color",t),n(j,"color",e),n(j,"border-bottom-color",m),n(w,"color",A),n(w,"border-bottom-color",O)},[()=>s().backgroundDark,()=>{var t;return`url("${((t=ot())==null?void 0:t.picture)??""}")`},()=>s().textBright,()=>s().textDim,()=>d.authors.join(", "),()=>b(v)==="info"?s().textBright:s().textDull,()=>b(v)==="info"?s().accent:"transparent",()=>b(v)==="discussion"?s().textBright:s().textDull,()=>b(v)==="discussion"?s().accent:"transparent"]),p(_,I),rt()}vt(["click"]);export{zt as component,Pt as universal};
