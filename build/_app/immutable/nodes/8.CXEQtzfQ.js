import{b as tt,c as ot,g as et}from"../chunks/DPkCBOLq.js";import{a as p,t as E,c as O}from"../chunks/DBBcDvdm.js";import{o as at,al as x,t as U,u as rt,a9 as G,am as st,w as l,v as i,I as u,x as c}from"../chunks/Cd4famqs.js";import{s as T}from"../chunks/9SF9fLyp.js";import{a as it}from"../chunks/DCUXtLa-.js";import{i as q}from"../chunks/B99cCWwV.js";import{e as nt,i as lt}from"../chunks/m1Qm6veP.js";import{s as C}from"../chunks/CP6p1_9A.js";import{d as ct}from"../chunks/44GAo11E.js";import{B as vt,t as s,s as n}from"../chunks/BsvsY8D8.js";import{S as mt,F as ft}from"../chunks/CYLUXTpV.js";import{A as ut}from"../chunks/D0XArR2g.js";import{s as bt,S as dt}from"../chunks/BSntS8HR.js";const _t=async({params:_})=>({book:await tt(_.slug)}),zt=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var pt=(_,b)=>G(b,"info"),gt=(_,b)=>G(b,"discussion"),ht=E('<div class="book-info svelte-1joob0f"><img class="cover svelte-1joob0f"> <p class="description svelte-1joob0f"> </p></div>'),kt=E('<!> <nav class="svelte-1joob0f"><div class="banner svelte-1joob0f"><button aria-label="Open sidebar" class="svelte-1joob0f"></button> <div class="book-name svelte-1joob0f"><h1 class="svelte-1joob0f"> </h1> <h2 class="svelte-1joob0f"> </h2></div> <!></div></nav> <main class="svelte-1joob0f"><div class="views svelte-1joob0f"><button class="svelte-1joob0f">Info</button> <button class="svelte-1joob0f">Discussion</button></div> <!></main> <!> <!>',1);function Mt(_,b){at(b,!0);let d=b.data.book,v=st("info"),H=ot(d.isbn);function J(t,e=3){t=t.replaceAll("--","â€”");let a=t.split(/([.!?])\s*/),r=[];for(let o=0;o<a.length;o+=2)r.push(a[o]+a[o+1]);return r.map((o,f)=>(f+1)%e===0&&f!==r.length-1?o+`

`:o).join("")}var F=kt(),P=x(F);vt(P,{});var g=i(P,2),z=l(g),y=l(z);y.__click=function(...t){var e;(e=bt)==null||e.apply(this,t)};var B=i(y,2),h=l(B),K=l(h,!0);c(h);var w=i(h,2),L=l(w,!0);c(w),c(B);var N=i(B,2);mt(N,{style:"width: 2rem; height: 2rem;",get stroke(){return s().textBright}}),c(z),c(g);var D=i(g,2),k=l(D),j=l(k);j.__click=[pt,v];var S=i(j,2);S.__click=[gt,v],c(k);var Q=i(k,2);{var V=t=>{var e=ht(),a=l(e),r=i(a,2),m=l(r,!0);c(r),c(e),U((o,f)=>{C(a,"alt",`${d.title} cover`),C(a,"src",d.cover),n(r,"color",o),T(m,f)},[()=>s().textDull,()=>J(d.description)]),p(t,e)},W=t=>{var e=O(),a=x(e);{var r=m=>{var o=O(),f=x(o);it(f,()=>H,null,(A,I)=>{var R=O(),Y=x(R);nt(Y,17,()=>u(I),lt,(Z,$)=>{ut(Z,{get post(){return u($)}})}),p(A,R)}),p(m,o)};q(a,m=>{u(v)==="discussion"&&m(r)},!0)}p(t,e)};q(Q,t=>{u(v)==="info"?t(V):t(W,!1)})}c(D);var M=i(D,2);ft(M,{selected:"search"});var X=i(M,2);dt(X,{}),U((t,e,a,r,m,o,f,A,I)=>{n(g,"background",t),n(y,"background-image",e),n(h,"color",a),T(K,d.title),n(w,"color",r),T(L,m),n(k,"background-color",t),n(j,"color",o),n(j,"border-bottom-color",f),n(S,"color",A),n(S,"border-bottom-color",I)},[()=>s().backgroundDark,()=>{var t;return`url("${((t=et())==null?void 0:t.picture)??""}")`},()=>s().textBright,()=>s().textDim,()=>d.authors.join(", "),()=>u(v)==="info"?s().textBright:s().textDull,()=>u(v)==="info"?s().accent:"transparent",()=>u(v)==="discussion"?s().textBright:s().textDull,()=>u(v)==="discussion"?s().accent:"transparent"]),p(_,F),rt()}ct(["click"]);export{Mt as component,zt as universal};
