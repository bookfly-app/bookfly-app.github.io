import{b as ot,c as st,g as lt}from"../chunks/BouDITe6.js";import{a as h,t as z,c as I}from"../chunks/D6bbjQKa.js";import{o as it,al as w,t as E,u as nt,a9 as J,am as ct,v as o,w as l,D as v,x as i}from"../chunks/BoYJbVl0.js";import{s as $}from"../chunks/CRq8brLZ.js";import{a as vt}from"../chunks/BijDdK7v.js";import{i as G}from"../chunks/DXGzWa6H.js";import{e as mt,i as dt}from"../chunks/DR4kThJq.js";import{s as H}from"../chunks/CH9K2Gpc.js";import{d as ut}from"../chunks/BhJvXT8z.js";import{B as gt,t as a,s}from"../chunks/Cic6AYzS.js";import{S as _t,F as ft}from"../chunks/B-72_mP-.js";import{P as pt}from"../chunks/CJkIWee_.js";import{A as bt}from"../chunks/Cl5Zg4e6.js";import{s as ht,S as kt}from"../chunks/DH3p_1tM.js";const yt=async({params:k})=>({book:await ot(k.slug)}),Et=Object.freeze(Object.defineProperty({__proto__:null,load:yt},Symbol.toStringTag,{value:"Module"}));var xt=(k,g)=>J(g,"info"),wt=(k,g)=>J(g,"discussion"),Bt=z('<div class="book-info svelte-1lyr7g5"><img class="cover svelte-1lyr7g5"> <p class="description svelte-1lyr7g5"> </p></div>'),Dt=z('<nav class="svelte-1lyr7g5"><div class="banner svelte-1lyr7g5"><button aria-label="Open sidebar" class="svelte-1lyr7g5"></button> <div class="book-name svelte-1lyr7g5"><h1 class="svelte-1lyr7g5"> </h1> <h2 class="svelte-1lyr7g5"> </h2></div> <!></div></nav> <section class="svelte-1lyr7g5"><div class="views svelte-1lyr7g5"><button class="svelte-1lyr7g5">Info</button> <button class="svelte-1lyr7g5">Discussion</button></div> <!></section> <!> <!>',1),St=z("<!> <!>",1);function Gt(k,g){it(g,!0);let _=g.data.book,n=ct("info"),K=st(_.isbn);function L(y,U=3){y=y.replaceAll("--","â€”");let f=y.split(/([.!?])\s*/),c=[];for(let e=0;e<f.length;e+=2)c.push(f[e]+f[e+1]);return c.map((e,p)=>(p+1)%U===0&&p!==c.length-1?e+`

`:e).join("")}var M=St(),R=w(M);gt(R,{});var N=o(R,2);pt(N,{style:"overflow-y: hidden;",children:(y,U)=>{var f=Dt(),c=w(f),P=l(c),e=l(P);e.__click=function(...t){var r;(r=ht)==null||r.apply(this,t)};var p=o(e,2),B=l(p),Q=l(B,!0);i(B);var j=o(B,2),V=l(j,!0);i(j),i(p);var W=o(p,2);_t(W,{style:"width: 2rem; height: 2rem;",get stroke(){return a().textBright}}),i(P),i(c);var A=o(c,2),D=l(A),S=l(D);S.__click=[xt,n];var O=o(S,2);O.__click=[wt,n],i(D);var X=o(D,2);{var Y=t=>{var r=Bt(),m=l(r),d=o(m,2),u=l(d,!0);i(d),i(r),E((b,x)=>{H(m,"alt",`${_.title} cover`),H(m,"src",_.cover),s(d,"color",b),$(u,x)},[()=>a().textDull,()=>L(_.description)]),h(t,r)},Z=t=>{var r=I(),m=w(r);{var d=u=>{var b=I(),x=w(b);vt(x,()=>K,null,(T,F)=>{var C=I(),et=w(C);mt(et,17,()=>v(F),dt,(rt,at)=>{bt(rt,{get post(){return v(at)}})}),h(T,C)}),h(u,b)};G(m,u=>{v(n)==="discussion"&&u(d)},!0)}h(t,r)};G(X,t=>{v(n)==="info"?t(Y):t(Z,!1)})}i(A);var q=o(A,2);ft(q,{selected:"search"});var tt=o(q,2);kt(tt,{}),E((t,r,m,d,u,b,x,T,F)=>{s(c,"background",t),s(e,"background-image",r),s(B,"color",m),$(Q,_.title),s(j,"color",d),$(V,u),s(D,"background-color",t),s(S,"color",b),s(S,"border-bottom-color",x),s(O,"color",T),s(O,"border-bottom-color",F)},[()=>a().backgroundDark,()=>{var t;return`url("${((t=lt())==null?void 0:t.picture)??""}")`},()=>a().textBright,()=>a().textDim,()=>_.authors.join(", "),()=>v(n)==="info"?a().textBright:a().textDull,()=>v(n)==="info"?a().accent:"transparent",()=>v(n)==="discussion"?a().textBright:a().textDull,()=>v(n)==="discussion"?a().accent:"transparent"]),h(y,f)},$$slots:{default:!0}}),h(k,M),nt()}ut(["click"]);export{Gt as component,Et as universal};
