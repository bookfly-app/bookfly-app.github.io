import{g as ot,f as st,u as lt}from"../chunks/C2RLqV5n.js";import"../chunks/Bg9kRutz.js";import{p as it,f as B,t as G,g as nt,ab as K,al as ct,s as o,e as l,I as v,r as i}from"../chunks/ZzbjMaxL.js";import{s as F}from"../chunks/DfWBJXpw.js";import{a as vt}from"../chunks/CaN9eekN.js";import{i as H}from"../chunks/DPZ8gRHv.js";import{e as ut,i as dt}from"../chunks/SjV7uEaf.js";import{a as h,t as z,c as $}from"../chunks/DNWF8ubz.js";import{B as mt,t as a,b as s,s as J}from"../chunks/B0emLdTm.js";import{d as gt}from"../chunks/DNSqyUr2.js";import{S as _t,F as ft}from"../chunks/DPnCo1nZ.js";import{P as pt}from"../chunks/YcGVEFUA.js";import{A as bt}from"../chunks/B30FY6xl.js";import{s as ht,S as kt}from"../chunks/cobQMk5Q.js";const yt=async({params:k})=>({book:await ot(k.slug)}),Gt=Object.freeze(Object.defineProperty({__proto__:null,load:yt},Symbol.toStringTag,{value:"Module"}));var xt=(k,g)=>K(g,"info"),Bt=(k,g)=>K(g,"discussion"),wt=z('<div class="book-info svelte-1lyr7g5"><img class="cover svelte-1lyr7g5"> <p class="description svelte-1lyr7g5"> </p></div>'),Dt=z('<nav class="svelte-1lyr7g5"><div class="banner svelte-1lyr7g5"><button aria-label="Open sidebar" class="svelte-1lyr7g5"></button> <div class="book-name svelte-1lyr7g5"><h1 class="svelte-1lyr7g5"> </h1> <h2 class="svelte-1lyr7g5"> </h2></div> <!></div></nav> <section class="svelte-1lyr7g5"><div class="views svelte-1lyr7g5"><button class="svelte-1lyr7g5">Info</button> <button class="svelte-1lyr7g5">Discussion</button></div> <!></section> <!> <!>',1),St=z("<!> <!>",1);function Ht(k,g){it(g,!0);let _=g.data.book,n=ct("info"),L=st(_.isbn);function N(y,q=3){y=y.replaceAll("--","â€”");let f=y.split(/([.!?])\s*/),c=[];for(let e=0;e<f.length;e+=2)c.push(f[e]+f[e+1]);return c.map((e,p)=>(p+1)%q===0&&p!==c.length-1?e+`

`:e).join("")}var M=St(),R=B(M);mt(R,{});var Q=o(R,2);pt(Q,{style:"overflow-y: hidden;",children:(y,q)=>{var f=Dt(),c=B(f),P=l(c),e=l(P);e.__click=function(...t){var r;(r=ht)==null||r.apply(this,t)};var p=o(e,2),w=l(p),U=l(w,!0);i(w);var j=o(w,2),V=l(j,!0);i(j),i(p);var W=o(p,2);_t(W,{style:"width: 2rem; height: 2rem;",get stroke(){return a().textBright}}),i(P),i(c);var A=o(c,2),D=l(A),S=l(D);S.__click=[xt,n];var I=o(S,2);I.__click=[Bt,n],i(D);var X=o(D,2);{var Y=t=>{var r=wt(),u=l(r),d=o(u,2),m=l(d,!0);i(d),i(r),G((b,x)=>{J(u,"alt",`${_.title} cover`),J(u,"src",_.cover),s(d,"color",b),F(m,x)},[()=>a().textDull,()=>N(_.description)]),h(t,r)},Z=t=>{var r=$(),u=B(r);{var d=m=>{var b=$(),x=B(b);vt(x,()=>L,null,(O,T)=>{var E=$(),et=B(E);ut(et,17,()=>v(T),dt,(rt,at)=>{bt(rt,{get post(){return v(at)}})}),h(O,E)}),h(m,b)};H(u,m=>{v(n)==="discussion"&&m(d)},!0)}h(t,r)};H(X,t=>{v(n)==="info"?t(Y):t(Z,!1)})}i(A);var C=o(A,2);ft(C,{selected:"search"});var tt=o(C,2);kt(tt,{}),G((t,r,u,d,m,b,x,O,T)=>{s(c,"background",t),s(e,"background-image",r),s(w,"color",u),F(U,_.title),s(j,"color",d),F(V,m),s(D,"background-color",t),s(S,"color",b),s(S,"border-bottom-color",x),s(I,"color",O),s(I,"border-bottom-color",T)},[()=>a().backgroundDark,()=>{var t;return`url("${((t=lt())==null?void 0:t.picture)??""}")`},()=>a().textBright,()=>a().textDim,()=>_.authors.join(", "),()=>v(n)==="info"?a().textBright:a().textDull,()=>v(n)==="info"?a().accent:"transparent",()=>v(n)==="discussion"?a().textBright:a().textDull,()=>v(n)==="discussion"?a().accent:"transparent"]),h(y,f)},$$slots:{default:!0}}),h(k,M),nt()}gt(["click"]);export{Ht as component,Gt as universal};
