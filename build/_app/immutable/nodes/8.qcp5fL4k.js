import{g as ot,c as st,u as lt}from"../chunks/C5yAt3nP.js";import{a as h,t as $,c as z}from"../chunks/cC66xYTD.js";import{v as it,f as w,w as G,x as nt,ab as K,am as ct,y as o,z as l,I as v,A as i}from"../chunks/BiqahF3i.js";import{s as F}from"../chunks/6JthwsWi.js";import{a as vt}from"../chunks/Hw8DSSVs.js";import{i as H}from"../chunks/DljaikDs.js";import{e as ut,i as dt}from"../chunks/BkIRavrO.js";import{B as mt,t as a,b as s,s as J}from"../chunks/Da1zoI-q.js";import{d as gt}from"../chunks/DjtZKWoL.js";import{S as _t,F as ft}from"../chunks/BL46Dscq.js";import{P as pt}from"../chunks/C50KBTaK.js";import{A as bt}from"../chunks/B-lBaKya.js";import{s as ht,S as yt}from"../chunks/B2m4xDlb.js";const kt=async({params:y})=>({book:await ot(y.slug)}),Et=Object.freeze(Object.defineProperty({__proto__:null,load:kt},Symbol.toStringTag,{value:"Module"}));var xt=(y,g)=>K(g,"info"),wt=(y,g)=>K(g,"discussion"),Bt=$('<div class="book-info svelte-1lyr7g5"><img class="cover svelte-1lyr7g5"> <p class="description svelte-1lyr7g5"> </p></div>'),Dt=$('<nav class="svelte-1lyr7g5"><div class="banner svelte-1lyr7g5"><button aria-label="Open sidebar" class="svelte-1lyr7g5"></button> <div class="book-name svelte-1lyr7g5"><h1 class="svelte-1lyr7g5"> </h1> <h2 class="svelte-1lyr7g5"> </h2></div> <!></div></nav> <section class="svelte-1lyr7g5"><div class="views svelte-1lyr7g5"><button class="svelte-1lyr7g5">Info</button> <button class="svelte-1lyr7g5">Discussion</button></div> <!></section> <!> <!>',1),St=$("<!> <!>",1);function Gt(y,g){it(g,!0);let _=g.data.book,n=ct("info"),L=st(_.isbn);function N(k,q=3){k=k.replaceAll("--","â€”");let f=k.split(/([.!?])\s*/),c=[];for(let e=0;e<f.length;e+=2)c.push(f[e]+f[e+1]);return c.map((e,p)=>(p+1)%q===0&&p!==c.length-1?e+`

`:e).join("")}var M=St(),R=w(M);mt(R,{});var Q=o(R,2);pt(Q,{style:"overflow-y: hidden;",children:(k,q)=>{var f=Dt(),c=w(f),A=l(c),e=l(A);e.__click=function(...t){var r;(r=ht)==null||r.apply(this,t)};var p=o(e,2),B=l(p),U=l(B,!0);i(B);var P=o(B,2),V=l(P,!0);i(P),i(p);var W=o(p,2);_t(W,{style:"width: 2rem; height: 2rem;",get stroke(){return a().textBright}}),i(A),i(c);var j=o(c,2),D=l(j),S=l(D);S.__click=[xt,n];var I=o(S,2);I.__click=[wt,n],i(D);var X=o(D,2);{var Y=t=>{var r=Bt(),u=l(r),d=o(u,2),m=l(d,!0);i(d),i(r),G((b,x)=>{J(u,"alt",`${_.title} cover`),J(u,"src",_.cover),s(d,"color",b),F(m,x)},[()=>a().textDull,()=>N(_.description)]),h(t,r)},Z=t=>{var r=z(),u=w(r);{var d=m=>{var b=z(),x=w(b);vt(x,()=>L,null,(O,T)=>{var E=z(),et=w(E);ut(et,17,()=>v(T),dt,(rt,at)=>{bt(rt,{get post(){return v(at)}})}),h(O,E)}),h(m,b)};H(u,m=>{v(n)==="discussion"&&m(d)},!0)}h(t,r)};H(X,t=>{v(n)==="info"?t(Y):t(Z,!1)})}i(j);var C=o(j,2);ft(C,{selected:"search"});var tt=o(C,2);yt(tt,{}),G((t,r,u,d,m,b,x,O,T)=>{s(c,"background",t),s(e,"background-image",r),s(B,"color",u),F(U,_.title),s(P,"color",d),F(V,m),s(D,"background-color",t),s(S,"color",b),s(S,"border-bottom-color",x),s(I,"color",O),s(I,"border-bottom-color",T)},[()=>a().backgroundDark,()=>{var t;return`url("${((t=lt())==null?void 0:t.picture)??""}")`},()=>a().textBright,()=>a().textDim,()=>_.authors.join(", "),()=>v(n)==="info"?a().textBright:a().textDull,()=>v(n)==="info"?a().accent:"transparent",()=>v(n)==="discussion"?a().textBright:a().textDull,()=>v(n)==="discussion"?a().accent:"transparent"]),h(k,f)},$$slots:{default:!0}}),h(y,M),nt()}gt(["click"]);export{Gt as component,Et as universal};
