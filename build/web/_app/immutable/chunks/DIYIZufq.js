import"./Bzak7iHL.js";import{p as j,a6 as p,f as E,d as Y,ac as f,a9 as y,t as I,j as n,e as w,a as d,g as L,r as x,s as q,c as z}from"./DhKu0NfF.js";import{s as A}from"./DGkc4AeD.js";import{p as D,i as T,r as W,b as F,s as G}from"./DZzuPxtn.js";import{b as B,s as H,a as C,S}from"./COSmXfxt.js";import{d as J,f as K}from"./DGKU-49f.js";var M=p("<div><!></div>"),N=p("<img/>"),O=(m,e)=>f(e,!1),P=p('<!>  <div class="preview-wrapper svelte-89rbpt"><img class="preview svelte-89rbpt"/></div>',1);function Q(m,e){j(e,!0);let v=D(e,"element",15),l=W(e,["$$slots","$$events","$$legacy","src","children","element"]),i=y(!1);var c=P(),u=E(c);{var _=a=>{var t=M(),k=()=>f(i,!0);C(t,()=>({...l,class:"wrapper",onclick:k,[S]:{cursor:"pointer"}}),void 0,void 0,"svelte-89rbpt");var h=w(t);q(h,()=>e.children),x(t),d(a,t)},g=a=>{var t=N(),k=()=>f(i,!0);C(t,()=>({src:e.src,...l,onclick:k,[S]:{cursor:"pointer"}}),void 0,void 0,"svelte-89rbpt"),F(t,h=>v(h),()=>v()),K(t),d(a,t)};T(u,a=>{e.children?a(_):a(g,!1)})}var o=Y(u,2);o.__click=[O,i];let b;var r=w(o);let s;x(o),I((a,t)=>{b=B(o,"",b,a),H(r,"src",e.src),s=B(r,"",s,t)},[()=>({"pointer-events":n(i)?void 0:"none","background-color":n(i)?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0)"}),()=>({scale:n(i)?"100%":"0%"})]),d(m,c),L()}J(["click"]);var R=p("<div> </div>");function te(m,e){j(e,!0);let v=W(e,["$$slots","$$events","$$legacy","book"]),l=y(null);function i(){n(l).naturalWidth<10&&(n(l).src=e.book.backupCover)}let c=y(!0);function u(){f(c,!1)}var _=z(),g=E(_);{var o=r=>{Q(r,G({class:"cover"},()=>v,{get src(){return e.book.cover},onload:i,onerror:u,get element(){return n(l)},set element(s){f(l,s,!0)}}))},b=r=>{var s=R();C(s,()=>({class:"no cover",...v}),void 0,void 0,"svelte-10hhnap");var a=w(s,!0);x(s),I(()=>A(a,e.book.title)),d(r,s)};T(g,r=>{n(c)?r(o):r(b,!1)})}d(m,_),L()}export{te as B,Q as C};
