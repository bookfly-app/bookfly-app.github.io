import"../chunks/Bg9kRutz.js";import{p as fe,a7 as O,a as ce,y as e,w as S,f as d,s as u,t as T,c as i,r as v,a8 as Y}from"../chunks/BaZyK-JQ.js";import{d as me}from"../chunks/BuFl6vNe.js";import{a as t,t as w,c as g}from"../chunks/Dd2BwSaU.js";import{P as pe,B as _e,a as V,g as de,b as ue,s as I}from"../chunks/CRH4nDS7.js";import{i as h}from"../chunks/DBYv9uc3.js";import{e as J,i as K}from"../chunks/CN4MRzID.js";import{s as be}from"../chunks/D230ZY73.js";import{p as $}from"../chunks/COAggT6D.js";import{u as b,g as ge,a as he}from"../chunks/C5TKFuMC.js";import{C as we}from"../chunks/Cgr_yOC4.js";import{A as M}from"../chunks/DrT_5umQ.js";import{W as ye}from"../chunks/CExDkfQy.js";import{g as ke}from"../chunks/eNrUhY2c.js";function Pe(W,f){e(f)||(S(f,!0),setTimeout(()=>S(f,!1),2e3))}var xe=(W,f)=>e(f).show(),Fe=w('<img alt="Your profile" class="profile-link svelte-1o98fbs">'),Ye=w('<button class="svelte-1o98fbs">Following</button>'),Ie=w(`<div class="nofollowing svelte-1o98fbs"><h1 class="svelte-1o98fbs">You're not following anyone.</h1> <p class="svelte-1o98fbs">When you follow people, their posts will appear here.</p> <!></div>`),Se=w("<!> <!>",1),We=w('<nav class="svelte-1o98fbs"><div class="banner svelte-1o98fbs"><button aria-label="Open sidebar" class="svelte-1o98fbs"><!></button> <button class="svelte-1o98fbs"><!></button> <a href="/inbox" class="svelte-1o98fbs"><!></a></div></nav> <section class="content svelte-1o98fbs"><div class="views svelte-1o98fbs"><!> <button class="svelte-1o98fbs">Discover</button></div> <!></section>',1);function Ee(W,f){fe(f,!0);let s=O($(b()?new URLSearchParams(window.location.search).get("view")??"following":"for you")),N=Y(()=>b()?he(b()).then(c=>c.toSorted((y,k)=>k.timestamp-y.timestamp)):Promise.resolve([])),Q=ge(b()),A=O(null),j=O(!1);function q(c){return function(){S(s,$(c));const y=new URLSearchParams({view:e(s)});ke(`/?${y}`)}}pe(W,{type:"home",get sidebar(){return e(A)},set sidebar(c){S(A,$(c))},children:(c,y)=>{var k=We(),B=d(k),z=i(B),P=i(z);P.__click=[xe,A];var X=i(P);{var Z=o=>{var r=g(),m=d(r);V(m,()=>de(b().picture),null,(p,a)=>{var l=Fe();T(()=>be(l,"src",e(a))),t(p,l)}),t(o,r)},ee=o=>{ue(o,{stroke:"var(--overlay-1)",style:"width: 2.5rem;"})};h(X,o=>{b()?o(Z):o(ee,!1)})}v(P);var x=u(P,2);x.__click=[Pe,j];var oe=i(x);const re=Y(()=>e(j)?"spin":"");ye(oe,{get class(){return e(re)},style:"width: 2rem; height: 2rem;",stroke:"var(--overlay-1)"}),v(x);var E=u(x,2),ae=i(E);_e(ae,{style:"width: 2rem; height: 2rem;",stroke:"var(--overlay-1)"}),v(E),v(z),v(B);var G=u(B,2),C=i(G),H=i(C);{var te=o=>{var r=Ye(),m=Y(()=>q("following"));r.__click=function(...p){var a;(a=e(m))==null||a.apply(this,p)},T(()=>{I(r,"color",e(s)==="following"?"var(--lavender)":"var(--overlay-1)"),I(r,"border-bottom-color",e(s)==="following"?"var(--lavender)":"transparent")}),t(o,r)};h(H,o=>{b()&&o(te)})}var R=u(H,2),se=Y(()=>q("for you"));R.__click=function(...o){var r;(r=e(se))==null||r.apply(this,o)},v(C);var le=u(C,2);{var ne=o=>{var r=g(),m=d(r);V(m,()=>e(N),null,(p,a)=>{var l=Se(),F=d(l);{var U=n=>{var _=Ie(),L=u(i(_),4);we(L,{style:"width: 10rem;",stroke:"var(--mantle)"}),v(_),t(n,_)};h(F,n=>{e(a).length===0&&n(U)})}var D=u(F,2);J(D,17,()=>e(a),K,(n,_)=>{M(n,{get post(){return e(_)}})}),t(p,l)}),t(o,r)},ie=o=>{var r=g(),m=d(r);{var p=a=>{var l=g(),F=d(l);V(F,()=>Q,null,(U,D)=>{var n=g(),_=d(n);J(_,17,()=>e(D),K,(L,ve)=>{M(L,{get post(){return e(ve)}})}),t(U,n)}),t(a,l)};h(m,a=>{e(s)==="for you"&&a(p)},!0)}t(o,r)};h(le,o=>{e(s)==="following"?o(ne):o(ie,!1)})}v(G),T(()=>{I(R,"color",e(s)==="for you"?"var(--lavender)":"var(--overlay-1)"),I(R,"border-bottom-color",e(s)==="for you"?"var(--lavender)":"transparent")}),t(c,k)},$$slots:{default:!0}}),ce()}me(["click"]);export{Ee as component};
