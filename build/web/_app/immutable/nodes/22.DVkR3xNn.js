import"../chunks/Bzak7iHL.js";import{p as ve,a9 as $,aa as fe,g as ce,a6 as w,f as d,j as a,e as v,d as p,ab as Y,t as j,a as s,ac as I,r as f,c as g}from"../chunks/DhKu0NfF.js";import{d as me}from"../chunks/DGKU-49f.js";import{P as _e,B as ue,a as D,g as de,b as pe}from"../chunks/_KLLTIsc.js";import{i as h}from"../chunks/DZzuPxtn.js";import{e as H,i as J}from"../chunks/B8n4LtgD.js";import{b as K,s as be}from"../chunks/COSmXfxt.js";import{u as b,g as ge,a as he}from"../chunks/D8MsmRYf.js";import{C as we}from"../chunks/CL1z4alG.js";import{A as M}from"../chunks/CzVLTngL.js";import{W as ye}from"../chunks/BA256Ejd.js";import{g as ke}from"../chunks/BIMnCzO_.js";function Pe(S,c){a(c)||(I(c,!0),setTimeout(()=>I(c,!1),2e3))}var xe=(S,c)=>a(c).show(),Fe=w('<img alt="Your profile" class="profile-link svelte-1o98fbs"/>'),Ye=w('<button class="svelte-1o98fbs">Following</button>'),Ie=w(`<div class="nofollowing svelte-1o98fbs"><h1 class="svelte-1o98fbs">You're not following anyone.</h1> <p class="svelte-1o98fbs">When you follow people, their posts will appear here.</p> <!></div>`),Se=w("<!> <!>",1),We=w('<nav class="svelte-1o98fbs"><div class="banner svelte-1o98fbs"><button aria-label="Open sidebar" class="svelte-1o98fbs"><!></button> <button class="svelte-1o98fbs"><!></button> <a href="/inbox" class="svelte-1o98fbs"><!></a></div></nav> <section class="content svelte-1o98fbs"><div class="views svelte-1o98fbs"><!> <button class="svelte-1o98fbs">Discover</button></div> <!></section>',1);function qe(S,c){ve(c,!0);let l=$(fe(b()?new URLSearchParams(window.location.search).get("view")??"following":"for you")),N=Y(()=>b()?he(b()).then(m=>m.toSorted((y,k)=>k.timestamp-y.timestamp)):Promise.resolve([])),Q=ge(b()),W=$(null),L=$(!1);function O(m){return function(){I(l,m,!0);const y=new URLSearchParams({view:a(l)});ke(`/?${y}`)}}_e(S,{type:"home",get sidebar(){return a(W)},set sidebar(m){I(W,m,!0)},children:(m,y)=>{var k=We(),A=d(k),T=v(A),P=v(T);P.__click=[xe,W];var X=v(P);{var Z=e=>{var o=g(),_=d(o);D(_,()=>de(b().picture),null,(n,r)=>{var t=Fe();j(()=>be(t,"src",a(r))),s(n,t)}),s(e,o)},ee=e=>{pe(e,{stroke:"var(--overlay-1)",style:"width: 2.5rem;"})};h(X,e=>{b()?e(Z):e(ee,!1)})}f(P);var x=p(P,2);x.__click=[Pe,L];var ae=v(x);{let e=Y(()=>a(L)?"spin":"");ye(ae,{get class(){return a(e)},style:"width: 2rem; height: 2rem;",stroke:"var(--overlay-1)"})}f(x);var V=p(x,2),oe=v(V);ue(oe,{style:"width: 2rem; height: 2rem;",stroke:"var(--overlay-1)"}),f(V),f(T),f(A);var q=p(A,2),B=v(q),z=v(B);{var re=e=>{var o=Ye(),_=Y(()=>O("following"));o.__click=function(...r){var t;(t=a(_))==null||t.apply(this,r)};let n;j(r=>n=K(o,"",n,r),[()=>({color:a(l)==="following"?"var(--lavender)":"var(--overlay-1)","border-bottom-color":a(l)==="following"?"var(--lavender)":"transparent"})]),s(e,o)};h(z,e=>{b()&&e(re)})}var E=p(z,2),te=Y(()=>O("for you"));E.__click=function(...e){var o;(o=a(te))==null||o.apply(this,e)};let G;f(B);var se=p(B,2);{var le=e=>{var o=g(),_=d(o);D(_,()=>a(N),null,(n,r)=>{var t=Se(),F=d(t);{var C=i=>{var u=Ie(),U=p(v(u),4);we(U,{style:"width: 10rem;",stroke:"var(--mantle)"}),f(u),s(i,u)};h(F,i=>{a(r).length===0&&i(C)})}var R=p(F,2);H(R,17,()=>a(r),J,(i,u)=>{M(i,{get post(){return a(u)}})}),s(n,t)}),s(e,o)},ne=e=>{var o=g(),_=d(o);{var n=r=>{var t=g(),F=d(t);D(F,()=>Q,null,(C,R)=>{var i=g(),u=d(i);H(u,17,()=>a(R),J,(U,ie)=>{M(U,{get post(){return a(ie)}})}),s(C,i)}),s(r,t)};h(_,r=>{a(l)==="for you"&&r(n)},!0)}s(e,o)};h(se,e=>{a(l)==="following"?e(le):e(ne,!1)})}f(q),j(e=>G=K(E,"",G,e),[()=>({color:a(l)==="for you"?"var(--lavender)":"var(--overlay-1)","border-bottom-color":a(l)==="for you"?"var(--lavender)":"transparent"})]),s(m,k)},$$slots:{default:!0}}),ce()}me(["click"]);export{qe as component};
